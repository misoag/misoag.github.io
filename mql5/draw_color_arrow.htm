<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Style-Type" content="text/css">

<title>DRAW_COLOR_ARROW</title>
<meta name="keywords" content="">
<link rel="stylesheet" href="files/helpindex.css" type="text/css">
<link rel="stylesheet" href="default.css" type="text/css">

<script type="text/JavaScript" src="files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "draw_color_arrow.htm";
</script>

</head>
<body style=
"background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;"><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"index.html?page=draw_color_arrow.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"index.html?page=draw_color_arrow.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->


<table width="100%" border="0" cellpadding="0" cellspacing="0"
style=
"margin:0; background: #7F90A5 url('gradient_header.png') repeat-x left top; border-bottom: 3px solid #DBE0E5;">
<tr>
<td valign="middle">
<table style="margin: 10px 0" width="100%" border="0" cellspacing=
"0" cellpadding="0">
<tr valign="middle">
<td class="nav"><a class="h_m" href="index.htm">MQL5 Reference</a>
/ <a class="h_m" href="customind.htm">Custom Indicators</a> /
<a class="h_m" href="indicators_examples.htm">Indicator Styles in
Examples</a> / DRAW_COLOR_ARROW</td>
<td align="right" style="white-space: nowrap; padding: 0 10px;">
<a href="draw_color_histogram2.htm"><img style=
"vertical-align:middle;" src="previous.png" alt="Back" width="27"
height="27" border="0"></a><a href=
"draw_color_zigzag.htm"><img style=
"vertical-align:middle;margin-left: 7px;" src="next.png" alt=
"Forward" width="27" height="27" border="0"></a>
</td>
</tr>
</table>
</td>
</tr>
</table>

<div id="help">
<p class="p_H1"><span class="f_H1">DRAW_COLOR_ARROW</span>
</p>

<p class="p_Text"><span class="f_Text">The DRAW_COLOR_ARROW style
draws colored arrows (symbols of the set <a href="wingdings.htm"
class="topiclink">Wingdings</a>) based on the value of the
indicator buffer. In contrast to DRAW_ARROW, in this style it is
possible to set a color from a predefined set of colors specified
by the</span> <span class="f_Text" style=
"color: #0000ff;">indicator_color1</span> <span class=
"f_Text">property for each symbol.</span></p>

<p class="p_Text"><span class="f_Text">The width and color of the
symbols can be specified like for the<a href="draw_arrow.htm"
class="topiclink">DRAW_ARROW</a> style Â– using <a href=
"compilation.htm" class="topiclink">compiler directives</a> or
dynamically using the <a href="plotindexsetinteger.htm" class=
"topiclink">PlotIndexSetInteger()</a> function. Dynamic changes of
the plotting properties allows changing the look of an indicator
based on the current situation.</span>
</p>

<p class="p_Text"><span class="f_Text">The symbol code is set using
the <a href=
"customindicatorproperties.htm#enum_customind_property_integer"
class="topiclink">PLOT_ARROW</a> property.</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Define&nbsp;the&nbsp;symbol&nbsp;code&nbsp;from&nbsp;the&nbsp;Wingdings&nbsp;font&nbsp;to&nbsp;draw&nbsp;in&nbsp;PLOT_ARROW</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_ARROW</span><span class=
"f_CodeExample">,code);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">The default value of
PLOT_ARROW=159 (a circle).</span>
</p>

<p class="p_Text"><span class="f_Text">Each arrow is actually a
symbol that has the height and the anchor point, and can cover some
important information on a chart (for example, the closing price at
the bar). Therefore, we can additionally specify the vertical shift
in pixels, which does not depend on the scale of the chart. The
arrows will be shifted down by the specified number of pixels,
although the values of the indicator will remain the same:</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Set&nbsp;the&nbsp;vertical&nbsp;shift&nbsp;of&nbsp;arrows&nbsp;in&nbsp;pixels</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_ARROW_SHIFT</span><span class=
"f_CodeExample">,shift);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">A negative value of
PLOT_ARROW_SHIFT means the shift of arrows upwards, a positive
values shifts the arrow down.</span>
</p>

<p class="p_Text"><span class="f_Text">The DRAW_COLOR_ARROW style
can be used in a separate subwindow of a chart and in its main
window. Empty values are not drawn and do not appear in the "Data
Window", all the values in the indicator buffers should be set
explicitly. Buffers are not initialized with a zero value.</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Set&nbsp;an&nbsp;empty&nbsp;value</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetDouble</span><span class=
"f_CodeExample">(DRAW_COLOR_ARROW_plot_index,</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PLOT_EMPTY_VALUE</span><span class=
"f_CodeExample">,0);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">The number of buffers
required for plotting DRAW_COLOR_ARROW is 2.</span>
</p>

<ul class="help_list" style=
"text-align: justify; text-indent: 0px; padding: 0px 0px 0px 17px; margin: 3px 17px 3px 17px;">
<li><span class="f_li">a buffer to store the value of the price
which is used to draw the symbol (plus a shift in pixels, given in
the PLOT_ARROW_SHIFT property);</span>
</li>

<li><span class="f_li">a buffer to store the color index, which is
used to draw an arrow (it makes sense to set only non-empty
values).</span>
</li>
</ul>

<p class="p_Text"><span class="f_Text">An example of the indicator,
which draws arrows on each bar with the close price higher than the
close price of the previous bar. The width, shift and symbol code
of</span> <span class="f_Text" style=
"font-weight: bold;">all</span> <span class="f_Text">arrows are
changed randomly every</span> <span class="f_Text" style=
"font-weight: bold;">N</span> <span class="f_Text">ticks. The color
of the symbol depends on the number of the bar on which it is
drawn.</span></p>

<p class="p_Text" style="text-align: center;"><img class="help"
src="draw_color_arrow.png" width="730" height="425" alt=
"An example of the DRAW_COLOR_ARROW style" title=
"An example of the DRAW_COLOR_ARROW style" style=
"margin:0px auto 0px auto;width:730px;height:425px;border:none">
</p>

<p class="p_Text"><span class="f_Text">In the example, for</span>
<span class="f_Text" style="font-weight: bold;">plot1</span>
<span class="f_Text">with the DRAW_COLOR_ARROW style, the
properties, color and size are specified using the compiler
directive <a href="compilation.htm" class=
"topiclink">#property</a>, and then in the <a href=
"events.htm#oncalculate" class="topiclink">OnCalculate()</a>
function the properties are set randomly. The N parameter is set in
<a href="inputvariables.htm" class="topiclink">external
parameters</a> of the indicator for the possibility of manual
configuration (the Parameters tab in the indicator's Properties
window).</span></p>

<p class="p_Text"><span class="f_Text">Please note that initially 8
colors are set using the compiler directive <a href=
"compilation.htm" class="topiclink">#property</a>, and then in the
<a href="events.htm#oncalculate" class=
"topiclink">OnCalculate()</a> function, the color is set randomly
from the 14 colors that are stored in the colors[] array.</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DRAW_COLOR_ARROW.mq5&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2011,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp.&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.mql5.com&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">copyright</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"Copyright&nbsp;2011,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp."</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">link</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #008080;">"https://www.mql5.com"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">version</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #008080;">"1.00"</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">description</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"An&nbsp;indicator&nbsp;to&nbsp;demonstrate&nbsp;DRAW_COLOR_ARROW"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">description</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"Draws&nbsp;different-color&nbsp;arrows&nbsp;set&nbsp;by&nbsp;Unicode&nbsp;characters,&nbsp;on&nbsp;a&nbsp;chart"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">description</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"The&nbsp;color,&nbsp;size,&nbsp;shift&nbsp;and&nbsp;symbol&nbsp;code&nbsp;of&nbsp;the&nbsp;arrow&nbsp;are&nbsp;changed"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">description</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"&nbsp;randomly&nbsp;every&nbsp;N&nbsp;ticks"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">description</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"The&nbsp;code&nbsp;parameter&nbsp;sets&nbsp;the&nbsp;base&nbsp;value:&nbsp;code=159&nbsp;(a&nbsp;circle)"</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">indicator_chart_window</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">indicator_buffers</span><span class=
"f_CodeExample">&nbsp;2</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">indicator_plots</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;1</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;plot&nbsp;ColorArrow</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;indicator_label1&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #008080;">"ColorArrow"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;indicator_type1&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">DRAW_COLOR_ARROW</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Define&nbsp;8&nbsp;colors&nbsp;for&nbsp;coloring&nbsp;the&nbsp;histogram&nbsp;based&nbsp;on&nbsp;the&nbsp;weekdays&nbsp;(they&nbsp;are&nbsp;stored&nbsp;in&nbsp;the&nbsp;special&nbsp;array)</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;indicator_color1&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #0000ff;">clrRed,clrBlue,clrSeaGreen,clrGold,clrDarkOrange,clrMagenta,clrYellowGreen,clrChocolate</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;indicator_style1&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">STYLE_SOLID</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;indicator_width1&nbsp;&nbsp;1</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;input&nbsp;parameters</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">input</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #c0504d;">N</span><span class=
"f_CodeExample">=5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;Number&nbsp;of&nbsp;ticks&nbsp;to&nbsp;change&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">input</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">ushort</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #c0504d;">code</span><span class=
"f_CodeExample">=159;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//&nbsp;Symbol&nbsp;code&nbsp;to&nbsp;draw&nbsp;in&nbsp;DRAW_ARROW</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color_sections;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;An&nbsp;indicator&nbsp;buffer&nbsp;for&nbsp;the&nbsp;plot</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">double</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ColorArrowBuffer[];</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;A&nbsp;buffer&nbsp;to&nbsp;store&nbsp;color&nbsp;indexes</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">double</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ColorArrowColors[];</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;An&nbsp;array&nbsp;for&nbsp;storing&nbsp;colors&nbsp;contains&nbsp;14&nbsp;elements</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">color</span><span class=
"f_CodeExample">&nbsp;colors[]=</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">clrRed,clrBlue,clrGreen,clrChocolate,clrMagenta,clrDodgerBlue,clrGoldenrod,</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">&nbsp;&nbsp;&nbsp;clrIndigo,clrLightBlue,clrAliceBlue,clrMoccasin,clrWhiteSmoke,clrCyan,clrMediumPurple</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;};</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Custom&nbsp;indicator&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnInit</span><span class=
"f_CodeExample">()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;indicator&nbsp;buffers&nbsp;mapping</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">SetIndexBuffer</span><span class=
"f_CodeExample">(0,ColorArrowBuffer,</span><span class=
"f_CodeExample" style=
"color: #0000ff;">INDICATOR_DATA</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">SetIndexBuffer</span><span class=
"f_CodeExample">(1,ColorArrowColors,</span><span class=
"f_CodeExample" style=
"color: #0000ff;">INDICATOR_COLOR_INDEX</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Define&nbsp;the&nbsp;symbol&nbsp;code&nbsp;for&nbsp;drawing&nbsp;in&nbsp;PLOT_ARROW</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_ARROW</span><span class=
"f_CodeExample">,code);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Set&nbsp;the&nbsp;vertical&nbsp;shift&nbsp;of&nbsp;arrows&nbsp;in&nbsp;pixels</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_ARROW_SHIFT</span><span class=
"f_CodeExample">,5);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Set&nbsp;as&nbsp;an&nbsp;empty&nbsp;value&nbsp;0</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetDouble</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_EMPTY_VALUE</span><span class=
"f_CodeExample">,0);&nbsp;&nbsp;&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//----&nbsp;The&nbsp;number&nbsp;of&nbsp;colors&nbsp;to&nbsp;color&nbsp;the&nbsp;sinusoid</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;color_sections=8;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;&nbsp;see&nbsp;a&nbsp;comment&nbsp;to&nbsp;#property&nbsp;indicator_color1&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">INIT_SUCCEEDED</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Custom&nbsp;indicator&nbsp;iteration&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnCalculate</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;rates_total,</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;prev_calculated,</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">datetime</span><span class=
"f_CodeExample">&nbsp;&amp;time[],</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">double</span><span class=
"f_CodeExample">&nbsp;&amp;open[],</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">double</span><span class=
"f_CodeExample">&nbsp;&amp;high[],</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">double</span><span class=
"f_CodeExample">&nbsp;&amp;low[],</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">double</span><span class=
"f_CodeExample">&nbsp;&amp;close[],</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">long</span><span class=
"f_CodeExample">&nbsp;&amp;tick_volume[],</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">long</span><span class=
"f_CodeExample">&nbsp;&amp;volume[],</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;&amp;spread[])</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">static</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;ticks=0;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Calculate&nbsp;ticks&nbsp;to&nbsp;change&nbsp;the&nbsp;color,&nbsp;size,&nbsp;shift&nbsp;and&nbsp;code&nbsp;of&nbsp;the&nbsp;arrow</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;ticks++;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;If&nbsp;a&nbsp;critical&nbsp;number&nbsp;of&nbsp;ticks&nbsp;has&nbsp;been&nbsp;accumulated</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(ticks&gt;=</span><span class="f_CodeExample"
style="color: #c0504d;">N</span><span class=
"f_CodeExample">)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Change&nbsp;arrow&nbsp;properties</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChangeLineAppearance();</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Change&nbsp;the&nbsp;colors&nbsp;used&nbsp;to&nbsp;draw&nbsp;the&nbsp;histogram</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ChangeColors(colors,color_sections);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Reset&nbsp;the&nbsp;counter&nbsp;of&nbsp;ticks&nbsp;to&nbsp;zero</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ticks=0;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Block&nbsp;for&nbsp;calculating&nbsp;indicator&nbsp;values</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;start=1;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(prev_calculated&gt;0)&nbsp;start=prev_calculated-1;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Calculation&nbsp;loop</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">for</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;i=1;i&lt;rates_total;i++)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;If&nbsp;the&nbsp;current&nbsp;Close&nbsp;price&nbsp;is&nbsp;higher&nbsp;than&nbsp;the&nbsp;previous&nbsp;one,&nbsp;draw&nbsp;an&nbsp;arrow</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(close[i]&gt;close[i-1])</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ColorArrowBuffer[i]=close[i];</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Otherwise&nbsp;specify&nbsp;the&nbsp;null&nbsp;value</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">else</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ColorArrowBuffer[i]=0;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #808080;">//---&nbsp;Arrow&nbsp;color</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;index=i%color_sections;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ColorArrowColors[i]=index;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;return&nbsp;value&nbsp;of&nbsp;prev_calculated&nbsp;for&nbsp;next&nbsp;call</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(rates_total);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Changes&nbsp;the&nbsp;color&nbsp;of&nbsp;line&nbsp;segments&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">void</span><span class=
"f_CodeExample">&nbsp;&nbsp;ChangeColors(</span><span class=
"f_CodeExample" style="color: #0000ff;">color</span><span class=
"f_CodeExample">&nbsp;&nbsp;&amp;cols[],</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;plot_colors)</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;The&nbsp;number&nbsp;of&nbsp;colors</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;size=</span><span class="f_CodeExample"
style="color: #0000ff;">ArraySize</span><span class=
"f_CodeExample">(cols);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;comm=</span><span class="f_CodeExample"
style="color: #0000ff;">ChartGetString</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">CHART_COMMENT</span><span class=
"f_CodeExample">)+</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;For&nbsp;each&nbsp;color&nbsp;index&nbsp;define&nbsp;a&nbsp;new&nbsp;color&nbsp;randomly</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">for</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;plot_color_ind=0;plot_color_ind&lt;plot_colors;plot_color_ind++)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Get&nbsp;a&nbsp;random&nbsp;value</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;number=</span><span class="f_CodeExample"
style="color: #0000ff;">MathRand</span><span class=
"f_CodeExample">();</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Get&nbsp;an&nbsp;index&nbsp;in&nbsp;the&nbsp;col[]&nbsp;array&nbsp;as&nbsp;a&nbsp;remainder&nbsp;of&nbsp;the&nbsp;integer&nbsp;division</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;i=number%size;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Set&nbsp;the&nbsp;color&nbsp;for&nbsp;each&nbsp;index&nbsp;as&nbsp;the&nbsp;property&nbsp;PLOT_LINE_COLOR</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;a&nbsp;graphical&nbsp;style</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">PLOT_LINE_COLOR</span><span class=
"f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;&nbsp;Property&nbsp;identifier</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plot_color_ind,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;&nbsp;The&nbsp;index&nbsp;of&nbsp;the&nbsp;color,&nbsp;where&nbsp;we&nbsp;write&nbsp;the&nbsp;color</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cols[i]);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;&nbsp;A&nbsp;new&nbsp;color</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Write&nbsp;the&nbsp;colors</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;comm=comm+</span><span class="f_CodeExample"
style="color: #0000ff;">StringFormat</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"ArrowColorIndex[%d]=%s&nbsp;\r\n"</span><span class="f_CodeExample">,plot_color_ind,</span><span class="f_CodeExample"
style="color: #0000ff;">ColorToString</span><span class=
"f_CodeExample">(cols[i],true));</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ChartSetString</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">CHART_COMMENT</span><span class=
"f_CodeExample">,comm);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Changes&nbsp;the&nbsp;appearance&nbsp;of&nbsp;a&nbsp;displayed&nbsp;line&nbsp;in&nbsp;the&nbsp;indicator&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">void</span><span class=
"f_CodeExample">&nbsp;ChangeLineAppearance()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;A&nbsp;string&nbsp;for&nbsp;the&nbsp;formation&nbsp;of&nbsp;information&nbsp;about&nbsp;the&nbsp;line&nbsp;properties</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;comm=</span><span class="f_CodeExample"
style="color: #008080;">""</span><span class=
"f_CodeExample">;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;A&nbsp;block&nbsp;for&nbsp;changing&nbsp;the&nbsp;width&nbsp;of&nbsp;the&nbsp;line</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;number=</span><span class="f_CodeExample"
style="color: #0000ff;">MathRand</span><span class=
"f_CodeExample">();</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Get&nbsp;the&nbsp;width&nbsp;of&nbsp;the&nbsp;remainder&nbsp;of&nbsp;integer&nbsp;division</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;width=number%5;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//&nbsp;The&nbsp;width&nbsp;is&nbsp;set&nbsp;from&nbsp;0&nbsp;to&nbsp;4</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Set&nbsp;the&nbsp;color&nbsp;as&nbsp;the&nbsp;PLOT_LINE_WIDTH&nbsp;property</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_LINE_WIDTH</span><span class=
"f_CodeExample">,width);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Write&nbsp;the&nbsp;line&nbsp;width</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;comm=comm+</span><span class=
"f_CodeExample" style=
"color: #008080;">"&nbsp;Width="</span><span class=
"f_CodeExample">+</span><span class="f_CodeExample" style=
"color: #0000ff;">IntegerToString</span><span class=
"f_CodeExample">(width);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;A&nbsp;block&nbsp;for&nbsp;changing&nbsp;the&nbsp;arrow&nbsp;code&nbsp;(PLOT_ARROW)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;number=</span><span class=
"f_CodeExample" style="color: #0000ff;">MathRand</span><span class=
"f_CodeExample">();</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Get&nbsp;the&nbsp;remainder&nbsp;of&nbsp;integer&nbsp;division&nbsp;to&nbsp;calculate&nbsp;a&nbsp;new&nbsp;code&nbsp;of&nbsp;the&nbsp;arrow&nbsp;(from&nbsp;0&nbsp;to&nbsp;19)</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;code_add=number%20;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Set&nbsp;the&nbsp;new&nbsp;symbol&nbsp;code&nbsp;as&nbsp;the&nbsp;result&nbsp;of&nbsp;code+code_add</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_ARROW</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #c0504d;">code</span><span class=
"f_CodeExample">+code_add);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Write&nbsp;the&nbsp;symbol&nbsp;code&nbsp;PLOT_ARROW</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;comm=</span><span class=
"f_CodeExample" style="color: #008080;">"\r\n"</span><span class=
"f_CodeExample">+</span><span class="f_CodeExample" style=
"color: #008080;">"PLOT_ARROW="</span><span class=
"f_CodeExample">+</span><span class="f_CodeExample" style=
"color: #0000ff;">IntegerToString</span><span class=
"f_CodeExample">(code+code_add)+comm;&nbsp;&nbsp;&nbsp;</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;A&nbsp;block&nbsp;for&nbsp;changing&nbsp;the&nbsp;vertical&nbsp;shift&nbsp;of&nbsp;arrows&nbsp;in&nbsp;pixels</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;number=</span><span class=
"f_CodeExample" style="color: #0000ff;">MathRand</span><span class=
"f_CodeExample">();</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Get&nbsp;the&nbsp;shift&nbsp;as&nbsp;the&nbsp;remainder&nbsp;of&nbsp;the&nbsp;integer&nbsp;division</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;shift=20-number%41;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Set&nbsp;the&nbsp;new&nbsp;shift&nbsp;from</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlotIndexSetInteger</span><span class=
"f_CodeExample">(0,</span><span class="f_CodeExample" style=
"color: #0000ff;">PLOT_ARROW_SHIFT</span><span class=
"f_CodeExample">,shift);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Write&nbsp;the&nbsp;shift&nbsp;PLOT_ARROW_SHIFT</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;comm=</span><span class=
"f_CodeExample" style="color: #008080;">"\r\n"</span><span class=
"f_CodeExample">+</span><span class="f_CodeExample" style=
"color: #008080;">"PLOT_ARROW_SHIFT="</span><span class=
"f_CodeExample">+</span><span class="f_CodeExample" style=
"color: #0000ff;">IntegerToString</span><span class=
"f_CodeExample">(shift)+comm;</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Show&nbsp;the&nbsp;information&nbsp;on&nbsp;the&nbsp;chart&nbsp;using&nbsp;a&nbsp;comment</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">Comment</span><span class=
"f_CodeExample">(comm);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>
<br>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
