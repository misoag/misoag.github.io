<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Style-Type" content="text/css">

<title>WebRequest</title>
<meta name="keywords" content="WebRequest">
<link rel="stylesheet" href="files/helpindex.css" type="text/css">
<link rel="stylesheet" href="default.css" type="text/css">

<script type="text/JavaScript" src="files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "webrequest.htm";
</script>

</head>
<body style=
"background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;"><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"index.html?page=webrequest.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"index.html?page=webrequest.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->


<table width="100%" border="0" cellpadding="0" cellspacing="0"
style=
"margin:0; background: #7F90A5 url('gradient_header.png') repeat-x left top; border-bottom: 3px solid #DBE0E5;">
<tr>
<td valign="middle">
<table style="margin: 10px 0" width="100%" border="0" cellspacing=
"0" cellpadding="0">
<tr valign="middle">
<td class="nav"><a class="h_m" href="index.htm">MQL5 Reference</a>
/ <a class="h_m" href="common.htm">Common Functions</a> /
WebRequest</td>
<td align="right" style="white-space: nowrap; padding: 0 10px;">
<a href="testerwithdrawal.htm"><img style="vertical-align:middle;"
src="previous.png" alt="Back" width="27" height="27" border=
"0"></a><a href="zeromemory.htm"><img style=
"vertical-align:middle;margin-left: 7px;" src="next.png" alt=
"Forward" width="27" height="27" border="0"></a>
</td>
</tr>
</table>
</td>
</tr>
</table>

<div id="help">
<p class="p_H1"><span class="f_H1">WebRequest</span>
</p>

<p class="p_Function"><span class="f_Function">The function sends
an HTTP request to a specified server. The function has two
versions:</span>
</p>

<p class="p_Function"><span class="f_Function">1.</span>
<span class="f_Function" style="font-weight: bold;">Sending simple
requests</span> <span class="f_Function">of type "key=value" using
the header Content-Type:
application/x-www-form-urlencoded.</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class=
"f_Keywords">int&nbsp;&nbsp;</span><span class=
"f_Functions">WebRequest</span><span class=
"f_CodeExample">(</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;string</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">method</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;HTTP&nbsp;method&nbsp;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;string&nbsp;</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_Param">url</span><span class=
"f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;URL</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;string&nbsp;</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_Param">cookie</span><span class=
"f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;cookie</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;string&nbsp;</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_Param">referer</span><span class=
"f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;referer</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">timeout</span><span class="f_CodeExample">,</span><span class="f_Param">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;timeout</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;char&nbsp;</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">&amp;data[]</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;the&nbsp;array&nbsp;of&nbsp;the&nbsp;HTTP&nbsp;message&nbsp;body</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">data_size</span><span class="f_CodeExample">,</span><span class="f_Param">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample">&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;data[]&nbsp;array&nbsp;size&nbsp;in&nbsp;bytes</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">&amp;result[]</span><span class="f_CodeExample">,</span><span class="f_Param">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;an&nbsp;array&nbsp;containing&nbsp;server&nbsp;response&nbsp;data</span><br>
<span class=
"f_Keywords">&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">&amp;result_headers&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;headers&nbsp;of&nbsp;server&nbsp;response</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Function"><span class="f_Function">2.</span>
<span class="f_Function" style="font-weight: bold;">Sending a
request of any type</span> <span class="f_Function">specifying the
custom</span> <span class="f_Function">set of headers for a more
flexible interaction with various Web services.</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class=
"f_Keywords">int&nbsp;&nbsp;</span><span class=
"f_Functions">WebRequest</span><span class=
"f_CodeExample">(</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;string</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">method</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;HTTP&nbsp;method</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;string&nbsp;</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_Param">url</span><span class=
"f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;URL</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;string&nbsp;</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_Param">headers</span><span class=
"f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;headers&nbsp;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">int&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">timeout</span><span class="f_CodeExample">,</span><span class="f_Param">&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;timeout</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">const&nbsp;char&nbsp;</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">&amp;data[]</span><span class="f_CodeExample">,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;the&nbsp;array&nbsp;of&nbsp;the&nbsp;HTTP&nbsp;message&nbsp;body</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_Keywords">char&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">&amp;result[]</span><span class="f_CodeExample">,</span><span class="f_Param">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;an&nbsp;array&nbsp;containing&nbsp;server&nbsp;response&nbsp;data</span><br>
<span class=
"f_Keywords">&nbsp;&nbsp;&nbsp;string&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_Param">&amp;result_headers&nbsp;&nbsp;&nbsp;</span><span class="f_Comments">//&nbsp;headers&nbsp;of&nbsp;server&nbsp;response</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_BoldTitles"><span class=
"f_BoldTitles">Parameters</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">method</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;HTTP method.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">url</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;URL.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">headers</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;Request headers of type "key:
value", separated by a line break "\r\n".</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">cookie</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;Cookie value.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">referer</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;Value of the Referer header of
the HTTP request.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">timeout</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;Timeout in milliseconds.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">data[]</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;Data array of the HTTP message
body.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">data_size</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[in] &nbsp;Size of the data[]
array.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">result[]</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[out] &nbsp;An array containing server
response data.</span>
</p>

<p class="p_FunctionParameter"><span class=
"f_FunctionParameter">result_headers</span>
</p>

<p class="p_ParameterDesrciption"><span class=
"f_ParameterDesrciption">[out] Server response headers.</span>
</p>

<p class="p_BoldTitles"><span class="f_BoldTitles">Returned
value</span>
</p>

<p class="p_FunctionRemark"><span class="f_FunctionRemark">HTTP
server response code or -1 for an error.</span>
</p>

<p class="p_BoldTitles"><span class="f_BoldTitles">Note</span>
</p>

<p class="p_FunctionRemark"><span class="f_FunctionRemark">To use
the WebRequest() function, add the addresses of the required
servers in the list of allowed URLs in the "Expert Advisors" tab of
the "Options" window. Server port is automatically selected on the
basis of the specified protocol - 80 for "http://" and 443 for
"https://".</span>
</p>

<p class="p_FunctionRemark"><span class="f_FunctionRemark">The
WebRequest() function is asynchronous, which means its breaks the
program execution and waits for the response from the requested
server. Since the delays in receiving a response can be large, the
function is not available for calls from the indicators, because
indicators run in a common thread shared by all indicators and
charts on one symbol. Indicator performance delay on one of the
charts of a symbol may stop updating of all charts of the same
symbol.</span>
</p>

<p class="p_FunctionRemark"><span class="f_FunctionRemark">The
function can be called only from Expert Advisors and scripts, as
they run in their own execution threads. If you try to call the
function from an indicator, <a href="getlasterror.htm" class=
"topiclink">GetLastError()</a> will return error 4014  "Function
is not allowed".</span>
</p>

<p class="p_FunctionRemark"><span class=
"f_FunctionRemark">WebRequest() cannot be executed in the <a href=
"testing.htm#alert_etc" class="topiclink">Strategy
Tester</a>.</span>
</p>

<p class="p_Text"><span class="f_Text" style=
"font-weight: bold;">An example of using the first version of
the</span> <span class="f_FunctionRemark">WebRequest ()</span>
<span class="f_Text" style=
"font-weight: bold;">function:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #0000ff;">void</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnStart</span><span class=
"f_CodeExample">()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;cookie=</span><span class="f_CodeExample"
style="color: #0000ff;">NULL</span><span class=
"f_CodeExample">,headers;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">char</span><span class=
"f_CodeExample">&nbsp;post[],result[];</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;res;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;to&nbsp;enable&nbsp;access&nbsp;to&nbsp;the&nbsp;server,&nbsp;you&nbsp;should&nbsp;add&nbsp;URL&nbsp;"https://www.google.com/finance"</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;in&nbsp;the&nbsp;list&nbsp;of&nbsp;allowed&nbsp;URLs&nbsp;(Main&nbsp;Menu-&gt;Tools-&gt;Options,&nbsp;tab&nbsp;"Expert&nbsp;Advisors"):</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;google_url=</span><span class="f_CodeExample"
style=
"color: #008080;">"https://www.google.com/finance"</span><span class="f_CodeExample">;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Reset&nbsp;the&nbsp;last&nbsp;error&nbsp;code</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">ResetLastError</span><span class=
"f_CodeExample">();</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Loading&nbsp;a&nbsp;html&nbsp;page&nbsp;from&nbsp;Google&nbsp;Finance</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">int&nbsp;</span><span class="f_CodeExample">timeout=5000;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Timeout&nbsp;below&nbsp;1000&nbsp;(1&nbsp;sec.)&nbsp;is&nbsp;not&nbsp;enough&nbsp;for&nbsp;slow&nbsp;Internet&nbsp;connection</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;res=</span><span class=
"f_CodeExample" style=
"color: #0000ff;">WebRequest</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"GET"</span><span class=
"f_CodeExample">,google_url,cookie,</span><span class=
"f_CodeExample" style="color: #0000ff;">NULL</span><span class=
"f_CodeExample">,timeout,post,0,result,headers);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Checking&nbsp;errors</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(res==-1)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Error&nbsp;in&nbsp;WebRequest.&nbsp;Error&nbsp;code&nbsp;&nbsp;="</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Perhaps&nbsp;the&nbsp;URL&nbsp;is&nbsp;not&nbsp;listed,&nbsp;display&nbsp;a&nbsp;message&nbsp;about&nbsp;the&nbsp;necessity&nbsp;to&nbsp;add&nbsp;the&nbsp;address</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">MessageBox</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Add&nbsp;the&nbsp;address&nbsp;'"</span><span class="f_CodeExample">+google_url+</span><span class="f_CodeExample"
style=
"color: #008080;">"'&nbsp;in&nbsp;the&nbsp;list&nbsp;of&nbsp;allowed&nbsp;URLs&nbsp;on&nbsp;tab&nbsp;'Expert&nbsp;Advisors'"</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #008080;">"Error"</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #0000ff;">MB_ICONINFORMATION</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">else</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Load&nbsp;successfully</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">PrintFormat</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"The&nbsp;file&nbsp;has&nbsp;been&nbsp;successfully&nbsp;loaded,&nbsp;File&nbsp;size&nbsp;=%d&nbsp;bytes."</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #0000ff;">ArraySize</span><span class=
"f_CodeExample">(result));</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Save&nbsp;the&nbsp;data&nbsp;to&nbsp;a&nbsp;file</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;filehandle=</span><span class="f_CodeExample"
style="color: #0000ff;">FileOpen</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"GoogleFinance.htm"</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #0000ff;">FILE_WRITE</span><span class=
"f_CodeExample">|</span><span class="f_CodeExample" style=
"color: #0000ff;">FILE_BIN</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #808080;">//---&nbsp;Checking&nbsp;errors</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(filehandle!=</span><span class="f_CodeExample"
style="color: #0000ff;">INVALID_HANDLE</span><span class=
"f_CodeExample">)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Save&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;result[]&nbsp;array&nbsp;to&nbsp;a&nbsp;file</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">FileWriteArray</span><span class=
"f_CodeExample">(filehandle,result,0,</span><span class=
"f_CodeExample" style=
"color: #0000ff;">ArraySize</span><span class="f_CodeExample">(result));</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Close&nbsp;the&nbsp;file</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">FileClose</span><span class=
"f_CodeExample">(filehandle);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">else</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Error&nbsp;in&nbsp;FileOpen.&nbsp;Error&nbsp;code="</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>

<p class="p_Text"><span class="f_Text" style=
"font-weight: bold;">An example of using the second version of
the</span> <span class="f_FunctionRemark">WebRequest()</span>
<span class="f_Text" style=
"font-weight: bold;">function:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">link</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #008080;">"http://www.mql5.com"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">version</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #008080;">"1.00"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">strict</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">script_show_inputs</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">description</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"Sample&nbsp;script&nbsp;posting&nbsp;a&nbsp;user&nbsp;message&nbsp;"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">description</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"on&nbsp;the&nbsp;wall&nbsp;on&nbsp;mql5.com"</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">input</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #800000;">InpLogin</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;=</span><span class=
"f_CodeExample" style="color: #008080;">""</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//Your&nbsp;MQL5.com&nbsp;account</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">input</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #800000;">InpPassword</span><span class=
"f_CodeExample">=</span><span class="f_CodeExample" style=
"color: #008080;">""</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//Your&nbsp;account&nbsp;password</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">input</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #800000;">InpFileName</span><span class=
"f_CodeExample">=</span><span class="f_CodeExample" style=
"color: #008080;">"EURUSDM5.png"</span><span class=
"f_CodeExample">;&nbsp;</span><span class="f_CodeExample" style=
"color: #808080;">//An&nbsp;image&nbsp;in&nbsp;folder&nbsp;MQL5/Files/</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">input</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #800000;">InpFileType</span><span class=
"f_CodeExample">=</span><span class="f_CodeExample" style=
"color: #008080;">"image/png"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//Correct&nbsp;mime&nbsp;type&nbsp;of&nbsp;the&nbsp;image</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Posting&nbsp;a&nbsp;message&nbsp;with&nbsp;an&nbsp;image&nbsp;on&nbsp;the&nbsp;wall&nbsp;at&nbsp;mql5.com&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">bool</span><span class=
"f_CodeExample">&nbsp;PostToNewsFeed(</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;login,</span><span class="f_CodeExample"
style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;password,</span><span class="f_CodeExample"
style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;text,</span><span class="f_CodeExample"
style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;filename,</span><span class="f_CodeExample"
style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;filetype)</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;res;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;To&nbsp;receive&nbsp;the&nbsp;operation&nbsp;execution&nbsp;result</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">char</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;data[];&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;Data&nbsp;array&nbsp;to&nbsp;send&nbsp;POST&nbsp;requests</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">char</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;file[];&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;Read&nbsp;the&nbsp;image&nbsp;here</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;str=</span><span class="f_CodeExample" style=
"color: #008080;">"Login="</span><span class=
"f_CodeExample">+login+</span><span class="f_CodeExample" style=
"color: #008080;">"&amp;Password="</span><span class=
"f_CodeExample">+password;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;auth,sep=</span><span class="f_CodeExample"
style=
"color: #008080;">"-------Jyecslin9mp8RdKV"</span><span class="f_CodeExample">;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;multipart&nbsp;data&nbsp;separator</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;A&nbsp;file&nbsp;is&nbsp;available,&nbsp;try&nbsp;to&nbsp;read&nbsp;it</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(filename!=</span><span class="f_CodeExample"
style="color: #0000ff;">NULL</span><span class=
"f_CodeExample">&nbsp;&amp;&amp;&nbsp;filename!=</span><span class=
"f_CodeExample" style="color: #008080;">""</span><span class=
"f_CodeExample">)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res=</span><span class="f_CodeExample"
style="color: #0000ff;">FileOpen</span><span class=
"f_CodeExample">(filename,</span><span class="f_CodeExample" style=
"color: #0000ff;">FILE_READ</span><span class=
"f_CodeExample">|</span><span class="f_CodeExample" style=
"color: #0000ff;">FILE_BIN</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(res&lt;0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Error&nbsp;opening&nbsp;the&nbsp;file&nbsp;\""+filename+"</span><span class="f_CodeExample">\</span><span class="f_CodeExample"
style="color: #008080;">""</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">false</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Read&nbsp;file&nbsp;data</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">FileReadArray</span><span class=
"f_CodeExample">(res,file)!=</span><span class="f_CodeExample"
style="color: #0000ff;">FileSize</span><span class=
"f_CodeExample">(res))</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">FileClose</span><span class=
"f_CodeExample">(res);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Error&nbsp;reading&nbsp;the&nbsp;file&nbsp;\""+filename+"</span><span class="f_CodeExample">\</span><span class="f_CodeExample"
style="color: #008080;">""</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">false</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #808080;">//---</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">FileClose</span><span class=
"f_CodeExample">(res);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Create&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;POST&nbsp;request&nbsp;for&nbsp;authorization</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">ArrayResize</span><span class=
"f_CodeExample">(data,</span><span class="f_CodeExample" style=
"color: #0000ff;">StringToCharArray</span><span class=
"f_CodeExample">(str,data,0,</span><span class="f_CodeExample"
style="color: #0000ff;">WHOLE_ARRAY</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #0000ff;">CP_UTF8</span><span class=
"f_CodeExample">)-1);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Resetting&nbsp;error&nbsp;code</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">ResetLastError</span><span class=
"f_CodeExample">();</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Authorization&nbsp;request</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;res=</span><span class=
"f_CodeExample" style=
"color: #0000ff;">WebRequest</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"POST"</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #008080;">"https://www.mql5.com/en/auth_login"</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #0000ff;">NULL</span><span class=
"f_CodeExample">,0,data,data,str);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;If&nbsp;authorization&nbsp;failed</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(res!=200)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Authorization&nbsp;error&nbsp;#"</span><span class="f_CodeExample">+(</span><span class="f_CodeExample"
style="color: #0000ff;">string</span><span class=
"f_CodeExample">)res+</span><span class="f_CodeExample" style=
"color: #008080;">",&nbsp;LastError="</span><span class=
"f_CodeExample">+(</span><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">)</span><span class="f_CodeExample" style=
"color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">false</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Read&nbsp;the&nbsp;authorization&nbsp;cookie&nbsp;from&nbsp;the&nbsp;server&nbsp;response&nbsp;header</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;res=</span><span class=
"f_CodeExample" style=
"color: #0000ff;">StringFind</span><span class=
"f_CodeExample">(str,</span><span class="f_CodeExample" style=
"color: #008080;">"Set-Cookie:&nbsp;auth="</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;If&nbsp;cookie&nbsp;not&nbsp;found,&nbsp;return&nbsp;an&nbsp;error</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(res&lt;0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Error,&nbsp;authorization&nbsp;data&nbsp;not&nbsp;found&nbsp;in&nbsp;the&nbsp;server&nbsp;response&nbsp;(check&nbsp;login/password)"</span><span class="f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">false</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Remember&nbsp;the&nbsp;authorization&nbsp;data&nbsp;and&nbsp;form&nbsp;the&nbsp;header&nbsp;for&nbsp;further&nbsp;requests</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;auth=</span><span class=
"f_CodeExample" style=
"color: #0000ff;">StringSubstr</span><span class=
"f_CodeExample">(str,res+12);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;auth=</span><span class=
"f_CodeExample" style=
"color: #008080;">"Cookie:&nbsp;"</span><span class=
"f_CodeExample">+</span><span class="f_CodeExample" style=
"color: #0000ff;">StringSubstr</span><span class=
"f_CodeExample">(auth,0,</span><span class="f_CodeExample" style=
"color: #0000ff;">StringFind</span><span class=
"f_CodeExample">(auth,</span><span class="f_CodeExample" style=
"color: #008080;">";"</span><span class=
"f_CodeExample">)+1)+</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;If&nbsp;there&nbsp;is&nbsp;a&nbsp;data&nbsp;file,&nbsp;send&nbsp;it&nbsp;to&nbsp;the&nbsp;server</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">ArraySize</span><span class=
"f_CodeExample">(file)!=0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Form&nbsp;the&nbsp;request&nbsp;body</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str=</span><span class="f_CodeExample"
style="color: #008080;">"--"</span><span class=
"f_CodeExample">+sep+</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str+=</span><span class="f_CodeExample"
style=
"color: #008080;">"Content-Disposition:&nbsp;form-data;&nbsp;name=\"</span><span class="f_CodeExample">attachedFile_imagesLoader\</span><span class="f_CodeExample"
style=
"color: #008080;">";&nbsp;filename=\""+filename+"</span><span class="f_CodeExample">\</span><span class="f_CodeExample"
style="color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str+=</span><span class="f_CodeExample"
style="color: #008080;">"Content-Type:&nbsp;"</span><span class=
"f_CodeExample">+filetype+</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res&nbsp;=</span><span class="f_CodeExample"
style="color: #0000ff;">StringToCharArray</span><span class=
"f_CodeExample">(str,data);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res+=</span><span class="f_CodeExample"
style="color: #0000ff;">ArrayCopy</span><span class=
"f_CodeExample">(data,file,res-1,0);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res+=</span><span class="f_CodeExample"
style="color: #0000ff;">StringToCharArray</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n--"</span><span class=
"f_CodeExample">+sep+</span><span class="f_CodeExample" style=
"color: #008080;">"--\r\n"</span><span class=
"f_CodeExample">,data,res-1);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ArrayResize</span><span class=
"f_CodeExample">(data,</span><span class="f_CodeExample" style=
"color: #0000ff;">ArraySize</span><span class=
"f_CodeExample">(data)-1);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Form&nbsp;the&nbsp;request&nbsp;header</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str=auth+</span><span class="f_CodeExample"
style=
"color: #008080;">"Content-Type:&nbsp;multipart/form-data;&nbsp;boundary="</span><span class="f_CodeExample">+sep+</span><span class="f_CodeExample"
style="color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Reset&nbsp;error&nbsp;code</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ResetLastError</span><span class=
"f_CodeExample">();</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Request&nbsp;to&nbsp;send&nbsp;an&nbsp;image&nbsp;file&nbsp;to&nbsp;the&nbsp;server</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res=</span><span class="f_CodeExample"
style="color: #0000ff;">WebRequest</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"POST"</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #008080;">"https://www.mql5.com/upload_file"</span><span class="f_CodeExample">,str,0,data,data,str);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;check&nbsp;the&nbsp;request&nbsp;result</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(res!=200)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Error&nbsp;sending&nbsp;a&nbsp;file&nbsp;to&nbsp;the&nbsp;server&nbsp;#"</span><span class="f_CodeExample">+(</span><span class="f_CodeExample"
style="color: #0000ff;">string</span><span class=
"f_CodeExample">)res+</span><span class="f_CodeExample" style=
"color: #008080;">",&nbsp;LastError="</span><span class=
"f_CodeExample">+(</span><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">)</span><span class="f_CodeExample" style=
"color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">false</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;Receive&nbsp;a&nbsp;link&nbsp;to&nbsp;the&nbsp;image&nbsp;uploaded&nbsp;to&nbsp;the&nbsp;server</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str=</span><span class="f_CodeExample"
style="color: #0000ff;">CharArrayToString</span><span class=
"f_CodeExample">(data);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">StringFind</span><span class=
"f_CodeExample">(str,</span><span class="f_CodeExample" style=
"color: #008080;">"{\"</span><span class=
"f_CodeExample">Url\</span><span class="f_CodeExample" style=
"color: #008080;">":\"")==0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;res&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</span><span class="f_CodeExample"
style="color: #0000ff;">StringFind</span><span class=
"f_CodeExample">(str,</span><span class="f_CodeExample" style=
"color: #008080;">"\"",8);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filename=</span><span class="f_CodeExample"
style="color: #0000ff;">StringSubstr</span><span class=
"f_CodeExample">(str,8,res-8);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;If&nbsp;file&nbsp;uploading&nbsp;fails,&nbsp;an&nbsp;empty&nbsp;link&nbsp;will&nbsp;be&nbsp;returned</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(filename==</span><span class="f_CodeExample"
style="color: #008080;">""</span><span class=
"f_CodeExample">)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"File&nbsp;sending&nbsp;to&nbsp;server&nbsp;failed"</span><span class="f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">false</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Create&nbsp;the&nbsp;body&nbsp;of&nbsp;a&nbsp;request&nbsp;to&nbsp;post&nbsp;an&nbsp;image&nbsp;on&nbsp;the&nbsp;server</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str&nbsp;=</span><span class=
"f_CodeExample" style="color: #008080;">"--"</span><span class=
"f_CodeExample">+sep+</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str+=</span><span class=
"f_CodeExample" style=
"color: #008080;">"Content-Disposition:&nbsp;form-data;&nbsp;name=\"</span><span class="f_CodeExample">content\</span><span class="f_CodeExample"
style="color: #008080;">"\r\n\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str+=text+</span><span class=
"f_CodeExample" style="color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;The&nbsp;languages&nbsp;in&nbsp;which&nbsp;the&nbsp;post&nbsp;will&nbsp;be&nbsp;available&nbsp;on&nbsp;mql5.com&nbsp;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str+=</span><span class=
"f_CodeExample" style="color: #008080;">"--"</span><span class=
"f_CodeExample">+sep+</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str+=</span><span class=
"f_CodeExample" style=
"color: #008080;">"Content-Disposition:&nbsp;form-data;&nbsp;name=\"</span><span class="f_CodeExample">AllLanguages\</span><span class="f_CodeExample"
style="color: #008080;">"\r\n\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str+=</span><span class=
"f_CodeExample" style="color: #008080;">"on\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;If&nbsp;the&nbsp;picture&nbsp;has&nbsp;been&nbsp;uploaded&nbsp;on&nbsp;the&nbsp;server,&nbsp;pass&nbsp;its&nbsp;link</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">ArraySize</span><span class=
"f_CodeExample">(file)!=0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str+=</span><span class="f_CodeExample"
style="color: #008080;">"--"</span><span class=
"f_CodeExample">+sep+</span><span class="f_CodeExample" style=
"color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str+=</span><span class="f_CodeExample"
style=
"color: #008080;">"Content-Disposition:&nbsp;form-data;&nbsp;name=\"</span><span class="f_CodeExample">attachedImage_0\</span><span class="f_CodeExample"
style="color: #008080;">"\r\n\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str+=filename+</span><span class="f_CodeExample"
style="color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;The&nbsp;final&nbsp;string&nbsp;of&nbsp;the&nbsp;multipart&nbsp;request</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str+=</span><span class=
"f_CodeExample" style="color: #008080;">"--"</span><span class=
"f_CodeExample">+sep+</span><span class="f_CodeExample" style=
"color: #008080;">"--\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Out&nbsp;the&nbsp;body&nbsp;of&nbsp;the&nbsp;POST&nbsp;request&nbsp;together&nbsp;in&nbsp;one&nbsp;string</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">StringToCharArray</span><span class=
"f_CodeExample">(str,data,0,</span><span class="f_CodeExample"
style="color: #0000ff;">WHOLE_ARRAY</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #0000ff;">CP_UTF8</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">ArrayResize</span><span class=
"f_CodeExample">(data,</span><span class="f_CodeExample" style=
"color: #0000ff;">ArraySize</span><span class=
"f_CodeExample">(data)-1);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Prepare&nbsp;the&nbsp;request&nbsp;header&nbsp;&nbsp;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;str=auth+</span><span class=
"f_CodeExample" style=
"color: #008080;">"Content-Type:&nbsp;multipart/form-data;&nbsp;boundary="</span><span class="f_CodeExample">+sep+</span><span class="f_CodeExample"
style="color: #008080;">"\r\n"</span><span class=
"f_CodeExample">;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Request&nbsp;to&nbsp;post&nbsp;a&nbsp;message&nbsp;on&nbsp;the&nbsp;user&nbsp;wall&nbsp;at&nbsp;mql5.com</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;res=</span><span class=
"f_CodeExample" style=
"color: #0000ff;">WebRequest</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"POST"</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #008080;">"https://www.mql5.com/ru/users/"</span><span class="f_CodeExample">+login+</span><span class="f_CodeExample"
style="color: #008080;">"/wall"</span><span class=
"f_CodeExample">,str,0,data,data,str);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Return&nbsp;true&nbsp;for&nbsp;successful&nbsp;execution</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(res==200);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Script&nbsp;program&nbsp;start&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">void</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnStart</span><span class=
"f_CodeExample">()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Post&nbsp;a&nbsp;message&nbsp;on&nbsp;mql5.com,&nbsp;including&nbsp;an&nbsp;image,&nbsp;the&nbsp;path&nbsp;to&nbsp;which&nbsp;is&nbsp;taken&nbsp;from&nbsp;the&nbsp;InpFileName&nbsp;parameter</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;PostToNewsFeed(</span><span class="f_CodeExample"
style="color: #800000;">InpLogin</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #800000;">InpPassword</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #008080;">"Checking&nbsp;the&nbsp;expanded&nbsp;version&nbsp;of&nbsp;WebRequest\r\n"</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #008080;">"(This&nbsp;message&nbsp;has&nbsp;been&nbsp;posted&nbsp;by&nbsp;the&nbsp;WebRequest.mq5&nbsp;script)"</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #800000;">InpFileName</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #800000;">InpFileType</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>
<br>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
