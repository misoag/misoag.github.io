<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta name="keywords" content="online documentation, web online help, web help, chm2web" />
<meta http-equiv="Content-Style-Type" content="text/css" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="generator" content="chm2web Pro 2.85 (unicode)" />
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta http-equiv="Content-Style-Type" content="text/css">

<title>Resources</title>
<meta name="keywords" content="#resource">
<link rel="stylesheet" href="files/helpindex.css" type="text/css">
<link rel="stylesheet" href="default.css" type="text/css">

<script type="text/JavaScript" src="files/supply.js"></script>
<script type="text/JavaScript">
chmtop.c2wtopf.pageid = "resources.htm";
</script>

</head>
<body style=
"background-color:#FFFFFF; font-family:'Trebuchet MS',Tahoma,Arial,Helvetica,sans-serif; margin:0px;"><script type="text/JavaScript"> 
if (window.name != "content") 
  document.write(" <table width=\"100%\" bgcolor=\"#e1e1e1\"cellspacing=\"2\" cellpadding=\"0\" style=\"border-collapse: collapse; font-family: sans-serif; font-size: 14px; color: #000000; text-decoration: none;  \"> <tr> <td align=\"center\" style=\"border-bottom: 2px solid gray\" > <br>&nbsp;Click <a href=\"index.html?page=resources.htm\">here</a> to show toolbars of the Web Online Help System: <a href=\"index.html?page=resources.htm\">show toolbars</a><br>&nbsp;</td></tr></table><br> "); 
</script>
<!-- !chm2web! -->


<table width="100%" border="0" cellpadding="0" cellspacing="0"
style=
"margin:0; background: #7F90A5 url('gradient_header.png') repeat-x left top; border-bottom: 3px solid #DBE0E5;">
<tr>
<td valign="middle">
<table style="margin: 10px 0" width="100%" border="0" cellspacing=
"0" cellpadding="0">
<tr valign="middle">
<td class="nav"><a class="h_m" href="index.htm">MQL5 Reference</a>
/ <a class="h_m" href="runtime.htm">MQL5 programs</a> /
Resources</td>
<td align="right" style="white-space: nowrap; padding: 0 10px;">
<a href="event_fire.htm"><img style="vertical-align:middle;" src=
"previous.png" alt="Back" width="27" height="27" border=
"0"></a><a href="imports.htm"><img style=
"vertical-align:middle;margin-left: 7px;" src="next.png" alt=
"Forward" width="27" height="27" border="0"></a>
</td>
</tr>
</table>
</td>
</tr>
</table>

<div id="help">
<p class="p_H1"><span class="f_H1">Resources</span>
</p>

<p class="p_H2"><span class="f_H2">Using graphics and sound in MQL5
programs</span>
</p>

<p class="p_Text"><span class="f_Text">Programs in MQL5 allow
working with sound and graphic files:</span>
</p>

<ul class="help_list" style=
"text-align: justify; text-indent: 0px; padding: 0px 0px 0px 17px; margin: 3px 17px 3px 17px;">
<li><span class="f_li"><a href="playsound.htm" class=
"topiclink">PlaySound()</a> plays a sound file;</span>
</li>

<li><span class="f_li"><a href="objectcreate.htm" class=
"topiclink">ObjectCreate()</a> allows creating user interfaces
using <a href="enum_object.htm" class="topiclink">graphical
objects</a> OBJ_BITMAP and OBJ_BITMAP_LABEL.</span>
</li>
</ul>

<p class="p_li"><span class="f_li">&nbsp;</span>
</p>

<p class="p_H3"><span class="f_H3">PlaySound()</span>
</p>

<p class="p_Text"><span class="f_Text">Example of call of
the</span> <span class="f_li"><a href="playsound.htm" class=
"topiclink">PlaySound()</a> function:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Calls&nbsp;standard&nbsp;OrderSend()&nbsp;and&nbsp;plays&nbsp;a&nbsp;sound&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">void</span><span class=
"f_CodeExample">&nbsp;OrderSendWithAudio(</span><span class=
"f_CodeExample" style=
"color: #0000ff;">MqlTradeRequest</span><span class=
"f_CodeExample">&nbsp;&nbsp;&amp;request,&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">MqlTradeResult</span><span class=
"f_CodeExample">&nbsp;&amp;result)</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//---&nbsp;send&nbsp;a&nbsp;request&nbsp;to&nbsp;a&nbsp;server</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">OrderSend</span><span class="f_CodeExample">(request,result);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//---&nbsp;if&nbsp;a&nbsp;request&nbsp;is&nbsp;accepted,&nbsp;play&nbsp;sound&nbsp;Ok.wav&nbsp;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(result.retcode==</span><span class="f_CodeExample"
style="color: #0000ff;">TRADE_RETCODE_PLACED</span><span class=
"f_CodeExample">)&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">PlaySound</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Ok.wav"</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//---&nbsp;if&nbsp;fails,&nbsp;play&nbsp;alarm&nbsp;from&nbsp;file&nbsp;timeout.wav</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">else</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">PlaySound</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"timeout.wav"</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">The example shows how to
play sounds from files 'Ok.wav' and 'timeout.wav', which are
included into the standard terminal package. These files are
located in the folder</span> <span class="f_Text" style=
"font-weight: bold;">terminal_directory\Sounds</span><span class=
"f_Text">. Here</span> <span class="f_Text" style=
"font-weight: bold;">terminal_directory</span> <span class=
"f_Text">is a folder, from which the MetaTrader 5 Client Terminal
is started. The location of the terminal directory can be found out
from an mql5 program in the following way:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Folder,&nbsp;in&nbsp;which&nbsp;terminal&nbsp;data&nbsp;are&nbsp;stored</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;terminal_path=</span><span class=
"f_CodeExample" style=
"color: #0000ff;">TerminalInfoString</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">TERMINAL_PATH</span><span class=
"f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">You can use sound files not
only from the folder</span> <span class="f_Text" style=
"font-weight: bold;">terminal_directory\Sounds</span><span class=
"f_Text">, but also from any subfolder located in</span>
<span class="f_Text" style=
"font-weight: bold;">terminal_data_directory\MQL5.</span>
<span class="f_Text">You can find out the location of the terminal
data directory from the terminal menu "File" -&gt; "Open" terminal
data or using program method:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;Folder,&nbsp;in&nbsp;which&nbsp;terminal&nbsp;data&nbsp;are&nbsp;stored</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;terminal_data_path=</span><span class=
"f_CodeExample" style=
"color: #0000ff;">TerminalInfoString</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">TERMINAL_DATA_PATH</span><span class=
"f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">For example, if the Demo.wav
sound file is located in terminal_data_directory\MQL5\Files, then
call of PlaySound() should be written the following way:</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;play&nbsp;Demo.wav&nbsp;from&nbsp;the&nbsp;folder&nbsp;terminal_directory_data\MQL5\Files\Demo.wav</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlaySound</span><span class="f_CodeExample">(</span><span class="f_CodeExample"
style="color: #008080;">"\\Files\\Demo.wav"</span><span class=
"f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">Please note that in the
comment the path to the file is written using backslash "\", and in
the function "\\" is used.</span>
</p>

<p class="p_Text"><span class="f_Text">When specifying the path,
always use only the double backslash as a separator, because a
single backslash is a control symbol for the compiler when dealing
with constant strings and <a href="symbolconstants.htm" class=
"topiclink">character constants</a> in the program source
code.</span>
</p>

<p class="p_Text"><span class="f_Text">Call <a href="playsound.htm"
class="topiclink">PlaySound()</a> function with NULL parameter to
stop playback:</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;call&nbsp;of&nbsp;PlaySound()&nbsp;with&nbsp;NULL&nbsp;parameter&nbsp;stops&nbsp;playback</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">PlaySound</span><span class="f_CodeExample">(</span><span class="f_CodeExample"
style="color: #0000ff;">NULL</span><span class=
"f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>

<p class="p_H3"><span class="f_H3">ObjectCreate()</span>
</p>

<p class="p_Text"><span class="f_li">Example of an Expert Advisor,
which creates a graphical label (OBJ_BITMAP_LABEL) using the
ObjectCreate() function.</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;label_name=</span><span class="f_CodeExample"
style="color: #008080;">"currency_label"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;name&nbsp;of&nbsp;the&nbsp;OBJ_BITMAP_LABEL&nbsp;object</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;euro&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</span><span class="f_CodeExample"
style="color: #008080;">"\\Images\\euro.bmp"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//&nbsp;path&nbsp;to&nbsp;the&nbsp;file&nbsp;terminal_data_directory\MQL5\Images\euro.bmp</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;dollar&nbsp;&nbsp;&nbsp;&nbsp;=</span><span class="f_CodeExample"
style="color: #008080;">"\\Images\\dollar.bmp"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;path&nbsp;to&nbsp;the&nbsp;file&nbsp;terminal_data_directory\MQL5\Images\dollar.bmp</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Expert&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnInit</span><span class=
"f_CodeExample">()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;create&nbsp;a&nbsp;button&nbsp;OBJ_BITMAP_LABEL,&nbsp;if&nbsp;it&nbsp;hasn't&nbsp;been&nbsp;created&nbsp;yet</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">ObjectFind</span><span class=
"f_CodeExample">(0,label_name)&lt;0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;trying&nbsp;to&nbsp;create&nbsp;object&nbsp;OBJ_BITMAP_LABEL</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">bool</span><span class=
"f_CodeExample">&nbsp;created=</span><span class="f_CodeExample"
style="color: #0000ff;">ObjectCreate</span><span class=
"f_CodeExample">(0,label_name,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJ_BITMAP_LABEL</span><span class=
"f_CodeExample">,0,0,0);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(created)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;link&nbsp;the&nbsp;button&nbsp;to&nbsp;the&nbsp;left&nbsp;upper&nbsp;corner&nbsp;of&nbsp;the&nbsp;chart</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ObjectSetInteger</span><span class=
"f_CodeExample">(0,label_name,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_CORNER</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #0000ff;">CORNER_RIGHT_UPPER</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;now&nbsp;set&nbsp;up&nbsp;the&nbsp;object&nbsp;properties</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ObjectSetInteger</span><span class=
"f_CodeExample">(0,label_name,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_XDISTANCE</span><span class=
"f_CodeExample">,100);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ObjectSetInteger</span><span class=
"f_CodeExample">(0,label_name,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_YDISTANCE</span><span class=
"f_CodeExample">,50);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;reset&nbsp;the&nbsp;code&nbsp;of&nbsp;the&nbsp;last&nbsp;error&nbsp;to&nbsp;0</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ResetLastError</span><span class=
"f_CodeExample">();</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;download&nbsp;a&nbsp;picture&nbsp;to&nbsp;indicate&nbsp;the&nbsp;"Pressed"&nbsp;state&nbsp;of&nbsp;the&nbsp;button</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">bool</span><span class=
"f_CodeExample">&nbsp;set=</span><span class="f_CodeExample" style=
"color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,label_name,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,0,euro);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;test&nbsp;the&nbsp;result</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(!set)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">PrintFormat</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Failed&nbsp;to&nbsp;download&nbsp;image&nbsp;from&nbsp;file&nbsp;%s.&nbsp;Error&nbsp;code&nbsp;%d"</span><span class="f_CodeExample">,euro,</span><span class="f_CodeExample"
style="color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ResetLastError</span><span class=
"f_CodeExample">();</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;download&nbsp;a&nbsp;picture&nbsp;to&nbsp;indicate&nbsp;the&nbsp;"Unpressed"&nbsp;state&nbsp;of&nbsp;the&nbsp;button</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set=</span><span class="f_CodeExample"
style="color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,label_name,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,1,dollar);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">if</span><span class=
"f_CodeExample">(!set)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">PrintFormat</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Failed&nbsp;to&nbsp;download&nbsp;image&nbsp;from&nbsp;file&nbsp;%s.&nbsp;Error&nbsp;code&nbsp;%d"</span><span class="f_CodeExample">,dollar,</span><span class="f_CodeExample"
style="color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;send&nbsp;a&nbsp;command&nbsp;for&nbsp;a&nbsp;chart&nbsp;to&nbsp;refresh&nbsp;so&nbsp;that&nbsp;the&nbsp;button&nbsp;appears&nbsp;immediately&nbsp;without&nbsp;a&nbsp;tick</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">ChartRedraw</span><span class=
"f_CodeExample">(0);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">else</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//---&nbsp;failed&nbsp;to&nbsp;create&nbsp;an&nbsp;object,&nbsp;notify</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">PrintFormat</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Failed&nbsp;to&nbsp;create&nbsp;object&nbsp;OBJ_BITMAP_LABEL.&nbsp;Error&nbsp;code&nbsp;%d"</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">INIT_SUCCEEDED</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Expert&nbsp;deinitialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">void</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnDeinit</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;reason)</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;delete&nbsp;an&nbsp;object&nbsp;from&nbsp;a&nbsp;chart&nbsp;</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #0000ff;">ObjectDelete</span><span class=
"f_CodeExample">(0,label_name);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">Creation and setup of the
graphical object named currency_label are carried out in the</span>
<span class="f_li">OnInit() function. The paths to the graphical
files are set in <a href="global.htm" class="topiclink">global
variables</a></span> <span class="f_li" style=
"font-weight: bold;">euro</span> <span class="f_li">and</span>
<span class="f_li" style=
"font-weight: bold;">dollar</span><span class="f_li">, a double
backlash is used for a separator:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;euro&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=</span><span class="f_CodeExample"
style="color: #008080;">"\\Images\\euro.bmp"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//&nbsp;path&nbsp;to&nbsp;the&nbsp;file&nbsp;terminal_dara_directory\MQL5\Images\euro.bmp</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;dollar&nbsp;&nbsp;&nbsp;&nbsp;=</span><span class="f_CodeExample"
style="color: #008080;">"\\Images\\dollar.bmp"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;path&nbsp;to&nbsp;the&nbsp;file&nbsp;terminal_dara_directory\MQL5\Images\dollar.bmp</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">The files are located in the
folder</span> <span class="f_Text" style=
"font-weight: bold;">terminal_data_directory\</span><span class=
"f_Text">MQL5\Images.</span></p>

<p class="p_Text"><span class="f_li">Object OBJ_BITMAP_LABEL is
actually a button, which displays one of the two images, depending
on the button state (pressed or unpressed): euro.bmp or
dollar.bmp.</span>
</p>

<p class="p_Text" style="text-align: center;"><img class="help"
src="demo_create_obj_bitmap_label_ea.png" width="537" height="297"
alt="Properties of the OBJ_BITMAP_LABEL object" title=
"Properties of the OBJ_BITMAP_LABEL object" style=
"margin:0px auto 0px auto;width:537px;height:297px;border:none">
</p>

<p class="p_Text"><span class="f_li">The size of the button with a
graphical interface is automatically adjusted to the size of the
picture. The image is changed by a left mouse button click on the
OBJ_BITMAP_LABEL object (</span><span class="f_li" style=
"font-weight: bold;">"Disable selection" must be set in the
properties</span><span class="f_li">). The OBJ_BITMAP object is
created the same way - it is used for creating the background with
a necessary image.</span>
</p>

<p class="p_Text"><span class="f_Text">The value of the <a href=
"enum_object_property.htm#enum_object_property_integer" class=
"topiclink">OBJPROP_BMPFILE</a> property, which is responsible for
the appearance of the objects</span> <span class="f_li">OBJ_BITMAP
and OBJ_BITMAP_LABEL</span><span class="f_Text">, can be changed
dynamically. This allows creating various interactive user
interfaces for mql5 programs.</span></p>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>

<p class="p_H2"><a class="help" name="resource_include" id=
"resource_include"></a><span class="f_H2">Including resources to
executable files during compilation of mql5 programs</span>
</p>

<p class="p_Text"><span class="f_Text">An mql5 program may need a
lot of different downloadable resources in the form of image and
sound files. In order to eliminate the need to transfer all these
files when moving an executable file in MQL5, the compiler's
directive</span> <span class="f_Text" style=
"color: #0000ff;">#resource</span> <span class="f_Text">should be
used:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;path_to_resource_file</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">The</span> <span class=
"f_Text" style="color: #0000ff;">#resource</span> <span class=
"f_Text">command tells the compiler that the resource at the
specified path</span> <span class="f_Text" style=
"font-weight: bold;">path_to_resource_file</span> <span class=
"f_Text">should be included into the executable EX5 file. Thus all
the necessary images and sounds can be &nbsp;located directly in an
EX5 file, so that there is no need to transfer separately the files
used in it, if you want to run the program on a different terminal.
Any EX5 file can contain resources, and any EX5 program can use
resources from another EX5 program.</span></p>

<p class="p_Text"><span class="f_Text">The files in format BMP and
WAV are automatically compressed before including them to an EX5
file. This denotes that in addition to the creation of complete
programs in MQL5, using resources also allows to reduce the total
size of necessary files when using graphics and sounds, as compared
to the usual way of MQL5 program writing.</span>
</p>

<p class="p_Text"><span class="f_Text">The resource file size must
not exceed 16 Mb.</span>
</p>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>

<p class="p_H2"><span class="f_H2">Search for specified resources
by a compiler</span>
</p>

<p class="p_Text"><span class="f_Text">A resource is inserted using
the command #resource "&lt;path to the resource file&gt;"</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"&lt;path_to_resource_file&gt;"</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">The length of the constant
string &lt;path_to_resource_file&gt; must not exceed 63
characters.</span>
</p>

<p class="p_Text"><span class="f_Text">The compiler searches for a
resource at the specified path in the following order:</span>
</p>

<ul class="help_list" style=
"text-align: justify; text-indent: 0px; padding: 0px 0px 0px 17px; margin: 3px 17px 3px 17px;">
<li><span class="f_li">if the backslash "\" separator (written as
"\\") is placed at &nbsp;the beginning of the path, it searches for
the resource relative to the directory</span> <span class="f_li"
style=
"font-weight: bold;">terminal_data_directory</span><span class=
"f_li">\MQL5\,</span></li>

<li><span class="f_li">if there is no backslash, it searches for
the resource relative to the location of the source file, in which
the resource is written.</span>
</li>
</ul>

<p class="p_Text"><span class="f_Text">The resource path cannot
contain the substrings "..\\" and ":\\".</span>
</p>

<p class="p_Text"><span class="f_Text">Examples of resource
inclusion:</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;correct&nbsp;specification&nbsp;of&nbsp;resources</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Images\\euro.bmp"</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #808080;">//&nbsp;euro.bmp&nbsp;is&nbsp;located&nbsp;in&nbsp;terminal_data_directory\MQL5\Images\</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"picture.bmp"</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;picture.bmp&nbsp;is&nbsp;located&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;as&nbsp;the&nbsp;source&nbsp;file</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"Resource\\map.bmp"</span><span class=
"f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;the&nbsp;resource&nbsp;is&nbsp;located&nbsp;in&nbsp;source_file_directory\Resource\map.bmp</span><br>

<span class="f_CodeExample" style=
"color: #808080;">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;incorrect&nbsp;specification&nbsp;of&nbsp;resources</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">":picture_2.bmp"</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//&nbsp;must&nbsp;not&nbsp;contain&nbsp;":"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"..\\picture_3.bmp"</span><span class=
"f_CodeExample">&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;must&nbsp;not&nbsp;contain&nbsp;".."</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Files\\Images\\Folder_First\\My_panel\\Labels\\too_long_path.bmp"</span><span class="f_CodeExample">&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//more&nbsp;than&nbsp;63&nbsp;symbols</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>

<p class="p_H2"><span class="f_H2">Use of Resources</span>
</p>

<p class="p_H3"><span class="f_H3">Resource name</span>
</p>

<p class="p_Text"><span class="f_Text">After a resource is declared
using the</span> <span class="f_Text" style=
"color: #0000ff;">#resource</span> <span class="f_Text">directive,
it can be used in any part of a program. The name of the resource
is its path without a backslash at the beginning of the line, which
sets the path to the resource. To use your own resource in the
code, the special sign "::" should be added before the resource
name.</span></p>

<p class="p_Text"><span class="f_Text">Examples:</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;examples&nbsp;of&nbsp;resource&nbsp;specification&nbsp;and&nbsp;their&nbsp;names&nbsp;in&nbsp;comments</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Images\\euro.bmp"</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;resource&nbsp;name&nbsp;-&nbsp;Images\euro.bmp</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"picture.bmp"</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;resource&nbsp;name&nbsp;-&nbsp;picture.bmp</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"Resource\\map.bmp"</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;resource&nbsp;name&nbsp;-&nbsp;Resource\map.bmp</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Files\\Pictures\\good.bmp"</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #808080;">//&nbsp;resource&nbsp;name&nbsp;-&nbsp;Files\Pictures\good.bmp</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Files\\Demo.wav"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;resource&nbsp;name&nbsp;-&nbsp;Files\Demo.wav"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Sounds\\thrill.wav"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;resource&nbsp;name&nbsp;-&nbsp;Sounds\thrill.wav"</span><br>
<span class=
"f_CodeExample">...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br>
<span class="f_CodeExample">&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;utilization&nbsp;of&nbsp;resources</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,bitmap_name,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,0,</span><span class="f_CodeExample" style=
"color: #008080;">"::Images\\euro.bmp"</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">...</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,my_bitmap,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,0,</span><span class="f_CodeExample" style=
"color: #008080;">"::picture.bmp"</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">...</span><br>
<span class="f_CodeExample">set=</span><span class="f_CodeExample"
style="color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,bitmap_label,</span><span class="f_CodeExample"
style="color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,1,</span><span class="f_CodeExample" style=
"color: #008080;">"::Files\\Pictures\\good.bmp"</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">...</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">PlaySound</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"::Files\\Demo.wav"</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">...</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">PlaySound</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"::Sounds\\thrill.wav"</span><span class=
"f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">It should be noted that when
setting images from a resource to the</span> <span class=
"f_li">OBJ_BITMAP and OBJ_BITMAP_LABEL objects, the value of the
OBJPROP_BMPFILE property cannot be modified manually. For example,
for creating OBJ_BITMAP_LABEL we use resources euro.bmp and
dollar.bmp.</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Images\\euro.bmp"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style=
"color: #808080;">//&nbsp;euro.bmp&nbsp;is&nbsp;located&nbsp;in&nbsp;terminal_data_directory\MQL5\Images\</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Images\\dollar.bmp"</span><span class=
"f_CodeExample">;&nbsp;&nbsp;</span><span class="f_CodeExample"
style=
"color: #808080;">//&nbsp;dollar.bmp&nbsp;is&nbsp;located&nbsp;in&nbsp;terminal_data_directory\MQL5\Images\</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">When viewing the properties
of this object, we'll see that the properties BitMap File (On) and
BitMap File (Off) are dimmed and cannot be change manually:</span>
</p>

<p class="p_Text" style="text-align: center;"><img class="help"
src="using_resource.png" width="505" height="301" alt=
"using_resource" style=
"margin:0px auto 0px auto;width:505px;height:301px;border:none">
</p>

<p class="p_Text"><span class="f_Text">&nbsp;</span>
</p>

<p class="p_H3"><span class="f_H3">Using the resources of other
mql5 programs</span>
</p>

<p class="p_Text"><span class="f_Text">There is another advantage
of resource using Â– in any mql5 program, resources of another EX5
file can be used. Thus the resources from one EX5 file can be used
in many other mql5 programs.</span>
</p>

<p class="p_Text"><span class="f_Text">In order to use a resource
name from another file, it should be specified as
&lt;path_EX5_file_name&gt;::&lt;resource_name&gt;. For example,
suppose the Draw_Triangles_Script.mq5 script contains a resource to
an image in the file triangle.bmp:</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Files\\triangle.bmp"</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">Then its name, for using in
the script itself, will look like "Files\triangle.bmp", and in
order to use it, "::" should be added to the resource name.</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;using&nbsp;the&nbsp;resource&nbsp;in&nbsp;the&nbsp;script</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,my_bitmap_name,</span><span class=
"f_CodeExample" style=
"color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,0,</span><span class="f_CodeExample" style=
"color: #008080;">"::Files\\triangle.bmp"</span><span class=
"f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">In order to use the same
resource from another program, e.g. from an Expert Advisor, we need
to add to the resource name the path to the EX5 file relative
to</span> <span class="f_Text" style=
"font-weight: bold;">terminal_data_directory\MQL5\</span>
<span class="f_Text">and the name of the script's</span>
<span class="f_Text">EX5 file -</span> <span class="f_Text" style=
"font-weight: bold;">Draw_Triangles_Script.ex5</span><span class=
"f_Text">. Suppose the script is located in the standard
folder</span> <span class="f_Text" style=
"font-weight: bold;">terminal_data_directory\MQL5\</span><span class="f_Text">Scripts\,
then the call should be written the following way:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;using&nbsp;a&nbsp;resource&nbsp;from&nbsp;a&nbsp;script&nbsp;in&nbsp;an&nbsp;EA</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,my_bitmap_name,</span><span class=
"f_CodeExample" style=
"color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,0,</span><span class="f_CodeExample" style=
"color: #008080;">"\\Scripts\\Draw_Triangles_Script.ex5::Files\\triangle.bmp"</span><span class="f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">If the path to the
executable file is not specified when calling the resource from
another EX5, the executable file is searched for in the same folder
that contains the program that calls the resource. This means that
if an Expert Advisor calls a resource from</span> <span class=
"f_Text">Draw_Triangles_Script.ex5 without specification of the
path, like this:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;call&nbsp;script&nbsp;resource&nbsp;in&nbsp;an&nbsp;EA&nbsp;without&nbsp;specifying&nbsp;the&nbsp;path</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">ObjectSetString</span><span class=
"f_CodeExample">(0,my_bitmap_name,</span><span class=
"f_CodeExample" style=
"color: #0000ff;">OBJPROP_BMPFILE</span><span class=
"f_CodeExample">,0,</span><span class="f_CodeExample" style=
"color: #008080;">"Draw_Triangles_Script.ex5::Files\\triangle.bmp"</span><span class="f_CodeExample">);</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">then the file will be
searched for in the folder</span> <span class="f_Text" style=
"font-weight: bold;">terminal_data_directory\MQL5\</span><span class="f_Text">Experts\,
if the Expert Advisor is located in</span> <span class="f_Text"
style=
"font-weight: bold;">terminal_data_directory\MQL5\</span><span class="f_Text">Experts\.</span></p>

<p class="p_H3"><span class="f_H3">&nbsp;</span>
</p>

<p class="p_H3"><span class="f_H3">Working with custom indicators
included as resources</span>
</p>

<p class="p_Text"><span class="f_Text">One or several custom
indicators may be necessary for the operation of MQL5 applications.
All of them can be included into the code of an executable MQL5
program. Inclusion of indicators as resources simplifies the
distribution of applications.</span>
</p>

<p class="p_Text"><span class="f_Text">Below is an example of
including and using SampleIndicator.ex5 custom indicator located
in</span> <span class="f_Text" style=
"font-weight: bold;">terminal_data_folder</span><span class=
"f_Text">\MQL5\Indicators\ directory:</span></p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SampleEA.mq5&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2013,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp.&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.mql5.com&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#resource</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #008080;">"\\Indicators\\SampleIndicator.ex5"</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;handle_ind;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Expert&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnInit</span><span class=
"f_CodeExample">()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;handle_ind=</span><span class=
"f_CodeExample" style="color: #0000ff;">iCustom</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">_Symbol</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #0000ff;">_Period</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #008080;">"::Indicators\\SampleIndicator.ex5"</span><span class="f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(handle_ind==</span><span class="f_CodeExample"
style="color: #0000ff;">INVALID_HANDLE</span><span class=
"f_CodeExample">)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Expert:&nbsp;iCustom&nbsp;call:&nbsp;Error&nbsp;code="</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">INIT_FAILED</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;...</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">INIT_SUCCEEDED</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_Text"><span class="f_Text">The case when a custom
indicator in <a href="events.htm#oninit" class=
"topiclink">OnInit()</a> function creates one or more copies of
itself requires special consideration. Please keep in mind that the
resource should be specified in the following way:</span>
<span class="f_Text" style=
"font-weight: bold;">&lt;path_EX5_file_name&gt;::&lt;resource_name&gt;</span><span class="f_Text">.</span></p>

<p class="p_Text"><span class="f_Text">For example, if
SampleIndicator.ex5 indicator is included to SampleEA.ex5 Expert
Advisor as a resource, the path to itself specified when calling
<a href="icustom.htm" class="topiclink">iCustom()</a> in the custom
indicator's initialization function looks the following way:
"\\Experts\\SampleEA.ex5::Indicators\\SampleIndicator.ex5". When
this path is set explicitly, SampleIndicator.ex5 custom indicator
is rigidly connected to SampleEA.ex5 Expert Advisor losing ability
to work independently.</span>
</p>

<p class="p_Text"><span class="f_Text">The path to itself can be
received using GetRelativeProgramPath() function. The example of
its usage is provided below:</span>
</p>

<div style=
"text-align: left; text-indent: 0px; border-color: #b3b3b3; border-style: solid; border-width: 1px; background: #fbf9f5; padding: 0px 0px 0px 0px; margin: 2px 17px 2px 17px;">
<table cellspacing="0" cellpadding="3" border="0" style=
"text-align: justify;border:none; border-spacing:0px;">
<tr style="text-align:left;vertical-align:top;">
<td style="vertical-align:top; padding:3px;">
<p class="p_CodeExample"><span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SampleIndicator.mq5&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copyright&nbsp;2013,&nbsp;MetaQuotes&nbsp;Software&nbsp;Corp.&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;https://www.mql5.com&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">indicator_separate_window</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">#property</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">indicator_plots</span><span class=
"f_CodeExample">&nbsp;0</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;handle;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Custom&nbsp;indicator&nbsp;initialization&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnInit</span><span class=
"f_CodeExample">()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;the&nbsp;wrong&nbsp;way&nbsp;to&nbsp;provide&nbsp;a&nbsp;link&nbsp;to&nbsp;itself</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;string&nbsp;path="\\Experts\\SampleEA.ex5::Indicators\\SampleIndicator.ex5";&nbsp;&nbsp;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;receive&nbsp;a&nbsp;link&nbsp;to&nbsp;itself</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;path=GetRelativeProgramPath();</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;indicator&nbsp;buffers&nbsp;mapping</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;handle=</span><span class=
"f_CodeExample" style="color: #0000ff;">iCustom</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">_Symbol</span><span class=
"f_CodeExample">,</span><span class="f_CodeExample" style=
"color: #0000ff;">_Period</span><span class=
"f_CodeExample">,path,0,0);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(handle==</span><span class="f_CodeExample" style=
"color: #0000ff;">INVALID_HANDLE</span><span class=
"f_CodeExample">)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Indicator:&nbsp;iCustom&nbsp;call:&nbsp;Error&nbsp;code="</span><span class="f_CodeExample">,</span><span class="f_CodeExample"
style="color: #0000ff;">GetLastError</span><span class=
"f_CodeExample">());</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">INIT_FAILED</span><span class=
"f_CodeExample">);</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">else</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">Print</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #008080;">"Indicator&nbsp;handle="</span><span class=
"f_CodeExample">,handle);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">INIT_SUCCEEDED</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">///....</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;GetRelativeProgramPath&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;GetRelativeProgramPath()</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;pos2;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;get&nbsp;the&nbsp;absolute&nbsp;path&nbsp;to&nbsp;the&nbsp;application</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">string</span><span class=
"f_CodeExample">&nbsp;path=</span><span class="f_CodeExample"
style="color: #0000ff;">MQLInfoString</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">MQL_PROGRAM_PATH</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;find&nbsp;the&nbsp;position&nbsp;of&nbsp;"\MQL5\"&nbsp;substring</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=</span><span class="f_CodeExample"
style="color: #0000ff;">StringFind</span><span class=
"f_CodeExample">(path,</span><span class="f_CodeExample" style=
"color: #008080;">"\\MQL5\\"</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;substring&nbsp;not&nbsp;found&nbsp;-&nbsp;error</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(pos&lt;0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">NULL</span><span class=
"f_CodeExample">);</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;skip&nbsp;"\MQL5"&nbsp;directory</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;pos+=5;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;skip&nbsp;extra&nbsp;'\'&nbsp;symbols</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">while</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">StringGetCharacter</span><span class=
"f_CodeExample">(path,pos+1)=='\\')</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pos++;</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;if&nbsp;this&nbsp;is&nbsp;a&nbsp;resource,&nbsp;return&nbsp;the&nbsp;path&nbsp;relative&nbsp;to&nbsp;MQL5&nbsp;directory</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">StringFind</span><span class=
"f_CodeExample">(path,</span><span class="f_CodeExample" style=
"color: #008080;">"::"</span><span class=
"f_CodeExample">,pos)&gt;=0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">StringSubstr</span><span class=
"f_CodeExample">(path,pos));</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;find&nbsp;a&nbsp;separator&nbsp;for&nbsp;the&nbsp;first&nbsp;MQL5&nbsp;subdirectory&nbsp;(for&nbsp;example,&nbsp;MQL5\Indicators)</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;if&nbsp;not&nbsp;found,&nbsp;return&nbsp;the&nbsp;path&nbsp;relative&nbsp;to&nbsp;MQL5&nbsp;directory</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">if</span><span class=
"f_CodeExample">((pos2=</span><span class="f_CodeExample" style=
"color: #0000ff;">StringFind</span><span class=
"f_CodeExample">(path,</span><span class="f_CodeExample" style=
"color: #008080;">"\\"</span><span class=
"f_CodeExample">,pos+1))&lt;0)</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">StringSubstr</span><span class=
"f_CodeExample">(path,pos));</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;return&nbsp;the&nbsp;path&nbsp;relative&nbsp;to&nbsp;the&nbsp;subdirectory&nbsp;(for&nbsp;example,&nbsp;MQL5\Indicators)</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">StringSubstr</span><span class=
"f_CodeExample">(path,pos2+1));</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//|&nbsp;Custom&nbsp;indicator&nbsp;iteration&nbsp;function&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//+------------------------------------------------------------------+</span><br>
<span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">OnCalculate</span><span class=
"f_CodeExample">(</span><span class="f_CodeExample" style=
"color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;rates_total,</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;prev_calculated,</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">int</span><span class=
"f_CodeExample">&nbsp;begin,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><br>
<span class=
"f_CodeExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="f_CodeExample"
style="color: #0000ff;">const</span><span class=
"f_CodeExample">&nbsp;</span><span class="f_CodeExample" style=
"color: #0000ff;">double</span><span class=
"f_CodeExample">&amp;&nbsp;price[])</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;{</span><br>
<span class="f_CodeExample" style=
"color: #808080;">//---&nbsp;return&nbsp;value&nbsp;of&nbsp;prev_calculated&nbsp;for&nbsp;next&nbsp;call</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;&nbsp;</span><span class=
"f_CodeExample" style="color: #0000ff;">return</span><span class=
"f_CodeExample">(rates_total);</span><br>
<span class="f_CodeExample">&nbsp;&nbsp;}</span>
</p>
</td>
</tr>
</table>
</div>

<p class="p_BoldTitles"><span class="f_BoldTitles">See also</span>
</p>

<p class="p_SeeAlso"><span class="f_SeeAlso"><a href=
"resourcecreate.htm" class="topiclink">ResourceCreate()</a>,
<a href="resourcesave.htm" class="topiclink">ResourceSave()</a>,
<a href="playsound.htm" class="topiclink">PlaySound()</a>, <a href=
"objectsetinteger.htm" class="topiclink">ObjectSetInteger()</a>,
<a href="chartapplytemplate.htm" class=
"topiclink">ChartApplyTemplate()</a>, <a href="files.htm" class=
"topiclink">File Functions</a></span>
</p>
<br>
</div>

<script type="text/JavaScript">
var fe = FindFrame("toc", top);
if ((fe != null) && (chmtop.c2wtopf.jstree != null)) {
  if (chmtop.c2wtopf.FITEMS[chmtop.c2wtopf.pagenum] != chmtop.c2wtopf.pageid)
    chmtop.c2wtopf.jstree.OpenTreeNode("" + chmtop.c2wtopf.pageid);
}
</script>

<!-- CHM2WEB -->
<!-- DO NOT DELETE OR MODIFY THIS CODE WITHOUT 
     WRITTEN PERMISSION OF A!K RESEARCH LABS -->
<table width="100%" cellspacing="0" cellpadding="0" 
style="margin-top: 0pt; border-collapse: collapse;"> 
<tr> <td align="right" style="background-color:white; border-top: 1px solid gray;"> 
<a href="http://chm2web.aklabs.com" target="_blank" style="font-family: sans-serif;  font-size: 11px; text-decoration: none;"><font color="gray">Converted from CHM to HTML with <b>chm2web Pro 2.85 (unicode)</b></font></a>
</td></tr></table> 
<!-- /CHM2WEB -->

</body>
</html>
