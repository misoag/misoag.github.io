
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  
    <title>鸡哥</title>
    <meta name="viewport" content="width=device-width, initial-scale=1,user-scalable=no">
    
    <meta name="author" content="John·Huang">
    

    
    <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="鸡哥">
<meta property="og:url" content="http://0x520.com/index.html">
<meta property="og:site_name" content="鸡哥">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="鸡哥">
<meta name="twitter:description">

    
    <link rel="alternative" href="/atom.xml" title="鸡哥" type="application/atom+xml">
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/jacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/jacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

  <body>
    <header>
      
<div>
		
			<div id="textlogo">
				<h1 class="site-name"><a href="/" title="鸡哥">鸡哥</a></h1>
				<h2 class="blog-motto">不乱于心,不困于情。不念过往，不畏将来。</h2>
			</div>
			<div class="navbar"><a class="navbutton navmobile" href="#" title="菜单">
			</a></div>
			<nav class="animated">
				<ul>
					<ul>
					 
						<li><a href="/">主页</a></li>
					
						<li><a href="/archives">归档</a></li>
					
						<li><a href="/about">关于</a></li>
					
					<li>
 					
					<form class="search" action="//google.com/search" method="get" accept-charset="utf-8">
						<label>Search</label>
						<input type="search" id="search" name="q" autocomplete="off" maxlength="20" placeholder="Search" />
						<input type="hidden" name="q" value="site:0x520.com">
					</form>
					
					</li>
				</ul>
			</nav>			
</div>
    </header>
    <div id="container">
      <div id="main">

   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/24/rails/5/" title="Rails中使用paperclip进行图片上传" itemprop="url">Rails中使用paperclip进行图片上传</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-05-24T09:02:00.000Z" itemprop="datePublished"> 发表于 2015-05-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>参考：<a href="https://github.com/thoughtbot/paperclip" target="_blank" rel="external">https://github.com/thoughtbot/paperclip</a></p>
<h2 id="Requirements">Requirements</h2><p>必须安装ImageMatic才能对图片进行处理</p>
<p>If you’re on Mac OS X, you’ll want to run the following with Homebrew:</p>
<pre><code><span class="keyword">brew </span>install imagemagick
</code></pre><p>检查是否安装成功：</p>
<p>执行 <code>which convert</code> 理论上来说应该返回 <code>/usr/local/bin/convert</code> 说明ImageMatic安装成功了。</p>
<p>编辑 config/environments/development.rb  配置command_path</p>
<pre><code>Paperclip<span class="class">.options</span>[:command_path] = <span class="string">"/usr/local/bin/"</span>
</code></pre><h2 id="安装">安装</h2><p>编辑gemfile</p>
<pre><code><span class="title">gem</span> <span class="string">"paperclip"</span>, <span class="string">"~&gt; 4.2"</span>
</code></pre><p>然后</p>
<pre><code><span class="keyword">bundle </span>install
</code></pre><h2 id="使用">使用</h2><h3 id="model">model</h3><pre><code><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="inheritance">&lt; <span class="parent">ActiveRecord::Base</span></span></span>
  has_attached_file <span class="symbol">:avatar</span>, <span class="symbol">:styles</span> =&gt; { <span class="symbol">:medium</span> =&gt; <span class="string">"300x300&gt;"</span>, <span class="symbol">:thumb</span> =&gt; <span class="string">"100x100&gt;"</span> }, <span class="symbol">:default_url</span> =&gt; <span class="string">"/images/:style/missing.png"</span>
  validates_attachment_content_type <span class="symbol">:avatar</span>, <span class="symbol">:content_type</span> =&gt; <span class="regexp">/\Aimage\/.*\Z/</span>
<span class="keyword">end</span>
</code></pre><h3 id="migrateion">migrateion</h3><p>创建一个migration</p>
<pre><code>rails g migration <span class="keyword">add_avatar_columns_t</span>o_users
</code></pre><p>编辑 xxx_add_avatar_columns_to_users</p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">AddAvatarColumnsToUsers</span> <span class="inheritance">&lt; <span class="parent">ActiveRecord::Migration</span></span></span>
  <span class="function"><span class="keyword">def</span> </span><span class="keyword">self</span>.up
    add_attachment <span class="symbol">:users</span>, <span class="symbol">:avatar</span>
  <span class="keyword">end</span>

  <span class="function"><span class="keyword">def</span> </span><span class="keyword">self</span>.down
    remove_attachment <span class="symbol">:users</span>, <span class="symbol">:avatar</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
</code></pre><h3 id="new_view">new view</h3><pre><code><span class="xml"></span>&lt;%=<span class="ruby"> form_for <span class="variable">@user</span>, <span class="symbol">:url</span> =&gt; users_path, <span class="symbol">:html</span> =&gt; { <span class="symbol">:multipart</span> =&gt; <span class="keyword">true</span> } <span class="keyword">do</span> |form| </span>%&gt;<span class="xml">
 </span>&lt;%=<span class="ruby"> form.file_field <span class="symbol">:avatar</span> </span>%&gt;<span class="xml">
</span>&lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;<span class="xml"></span>
</code></pre><h3 id="controller">controller</h3><pre><code>def <span class="operator"><span class="keyword">create</span>
  @<span class="keyword">user</span> = <span class="keyword">User</span>.<span class="keyword">create</span>( user_params )
<span class="keyword">end</span>

private

# <span class="keyword">Use</span> strong_parameters <span class="keyword">for</span> attribute whitelisting
# Be sure <span class="keyword">to</span> <span class="keyword">update</span> your <span class="keyword">create</span>() <span class="keyword">and</span> <span class="keyword">update</span>() controller methods.

def user_params
  params.require(:<span class="keyword">user</span>).permit(:avatar)
<span class="keyword">end</span></span>
</code></pre><h3 id="show_view">show view</h3><pre><code>&lt;<span class="variable">%=</span> image_tag <span class="variable">@user</span>.avatar.url <span class="variable">%&gt;</span>
&lt;<span class="variable">%=</span> image_tag <span class="variable">@user</span>.avatar.url(:medium) <span class="variable">%&gt;</span>
&lt;<span class="variable">%=</span> image_tag <span class="variable">@user</span>.avatar.url(:thumb) <span class="variable">%&gt;</span>
</code></pre><h3 id="删除">删除</h3><p>把属性设置为nil，然后保存即可</p>
<pre><code><span class="variable">@user</span>.avatar = nil
<span class="variable">@user</span>.save
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Ruby-On-Rails/">Ruby On Rails</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/24/rails/4/" title="Rails中使用devise进行用户认证" itemprop="url">Rails中使用devise进行用户认证</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-05-24T08:02:00.000Z" itemprop="datePublished"> 发表于 2015-05-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="用户认证">用户认证</h1><p>编辑Gemfile加上</p>
<pre><code><span class="title">gem</span> <span class="string">'devise'</span>
</code></pre><p>輸入bundle install安裝此套件<br>輸入rails g devise:install產生devise設定檔<br>編輯 config/environments/development.rb  加入</p>
<pre><code>config.action_mailer.default_url_options  = { <span class="symbol">host:</span> <span class="string">'localhost'</span>, <span class="symbol">port:</span> <span class="number">3000</span> }
config.action_mailer.delivery_method      = <span class="symbol">:smtp</span>
config.action_mailer.smtp_settings        = {
    <span class="symbol">:address</span>        =&gt; <span class="string">"smtp.exmail.qq.com"</span>,
    <span class="symbol">:port</span>           =&gt; <span class="number">25</span>,
    <span class="symbol">:domain</span>         =&gt; <span class="string">"morningtec.cn"</span>,
    <span class="symbol">:authentication</span> =&gt; <span class="symbol">:login</span>,
    <span class="symbol">:user_name</span>      =&gt; <span class="string">"huangsz@morningtec.cn"</span>,
    <span class="symbol">:password</span>       =&gt; <span class="string">"thepassword"</span>
}
</code></pre><p>编辑devise.rb 修改：</p>
<pre><code>config<span class="class">.mailer_sender</span> = <span class="string">'huangsz@morningtec.cn'</span>
</code></pre><p>编辑app/views/layouts/application.html.erb，加入</p>
<pre><code> <span class="tag">&lt;<span class="title">p</span> <span class="attribute">class</span>=<span class="value">"notice"</span>&gt;</span><span class="tag">&lt;<span class="title">%=</span> <span class="attribute">notice</span> %&gt;</span><span class="tag">&lt;/<span class="title">p</span>&gt;</span>
<span class="tag">&lt;<span class="title">p</span> <span class="attribute">class</span>=<span class="value">"alert"</span>&gt;</span><span class="tag">&lt;<span class="title">%=</span> <span class="attribute">alert</span> %&gt;</span><span class="tag">&lt;/<span class="title">p</span>&gt;</span>
</code></pre><p>輸入<code>rails g devise user</code>產生 User model 及 Migration  </p>
<p>如果需要E-mail驗證功能，可以編輯app/models/user.rb和migration將confirmable功能打開</p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">User</span> <span class="inheritance">&lt; <span class="parent">ActiveRecord::Base</span></span></span>
  <span class="comment"># Include default devise modules. Others available are:</span>
  <span class="comment"># :confirmable, :lockable, :timeoutable and :omniauthable</span>
  devise <span class="symbol">:database_authenticatable</span>, <span class="symbol">:registerable</span>,
         <span class="symbol">:recoverable</span>, <span class="symbol">:rememberable</span>, <span class="symbol">:trackable</span>, <span class="symbol">:validatable</span>, 
         <span class="symbol">:confirmable</span>,<span class="symbol">:lockable</span>
<span class="keyword">end</span>
</code></pre><p>輸入<code>rails generate devise:views</code>產生樣板，這會包括有註冊、登入、忘記密碼、Email等等頁面，放在app/views/devise目錄下。</p>
<p>輸入<code>rake db:migrate</code>建立資料表</p>
<h1 id="集成cancan和rolify权限管理">集成cancan和rolify权限管理</h1><p>cancan提供对资源的授权控制。例如，在视图中使用can?方法来决定是否显示某个页面元素。如果系统角色非常简单，那么cancan还在代码中直接指定常量就可以支持，具体操作可以参考官方文档。但要提供复杂的角色管理，最好的方案，还是在devise基础上再集成cancan+rolify。</p>
<p>1.修改Gemfile，并再次运行bundle install</p>
<pre><code><span class="title">gem</span> <span class="string">'cancan'</span>
gem <span class="string">'rolify'</span>
</code></pre><p>2.创建cancan的Ability和rolify的Role</p>
<pre><code>rails <span class="keyword">generate</span> cancan:ability
rails <span class="keyword">generate</span> rolify Role User
rake <span class="keyword">db</span>:migrate
</code></pre><p>3.定制devise用户注册事件，可以在注册时赋予用户rolify角色，例如，下面的代码为首个用户赋予admin角色：</p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">ApplicationController</span> <span class="inheritance">&lt; <span class="parent">ActionController::Base</span></span></span>
  <span class="function"><span class="keyword">def</span> </span>after_sign_in_path_for(resource)
    <span class="keyword">if</span> resource.is_a?(<span class="constant">User</span>)
      <span class="keyword">if</span> <span class="constant">User</span>.count == <span class="number">1</span>
        resource.add_role <span class="string">'admin'</span>
      <span class="keyword">end</span>
      resource
    <span class="keyword">end</span>
    root_path
  <span class="keyword">end</span>
<span class="keyword">end</span>
</code></pre><p>4.使用cancan可以为rolify中建立的角色分配授权资源，例如我们为允许admin角色的用户分配针对所有控制类的”manage”资源，而其他用户分配”read”资源：</p>
<pre><code><span class="function"><span class="keyword">def</span> </span>initialize(user)
    <span class="keyword">if</span> user.has_role? <span class="symbol">:admin</span>
      can <span class="symbol">:manage</span>, <span class="symbol">:all</span>
    <span class="keyword">else</span>
      can <span class="symbol">:read</span>, <span class="symbol">:all</span>
    <span class="keyword">end</span>
<span class="keyword">end</span>
</code></pre><p>5.以上已经实现了“用户－角色－权限”的三层权限模型，在view中就可以使用了。例如，在Home#index页面中增加如下代码：</p>
<pre><code><span class="xml"><span class="comment">&lt;!--权限管理--&gt;</span>
</span>&lt;%<span class="ruby"> <span class="keyword">if</span> user_signed_in? </span>%&gt;<span class="xml">
    <span class="tag">&lt;<span class="title">p</span>&gt;</span>The user is loged in.<span class="tag">&lt;/<span class="title">p</span>&gt;</span>
    </span>&lt;%<span class="ruby"> <span class="keyword">if</span> can? <span class="symbol">:manage</span>, <span class="symbol">:Articles</span> </span>%&gt;<span class="xml">
      </span>&lt;%=<span class="ruby"> link_to <span class="string">"Articles"</span>, articles_path </span>%&gt;<span class="xml">
    </span>&lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;<span class="xml">
</span>&lt;%<span class="ruby"> <span class="keyword">end</span> </span>%&gt;<span class="xml"></span>
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Ruby-On-Rails/">Ruby On Rails</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/24/rails/3/" title="Rails 中使用bootstrap" itemprop="url">Rails 中使用bootstrap</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-05-24T07:02:00.000Z" itemprop="datePublished"> 发表于 2015-05-24</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>如果需要自定义less的话，请参考 <a href="http://www.rubydoc.info/gems/twitter-bootstrap-rails/3.2.0" target="_blank" rel="external">http://www.rubydoc.info/gems/twitter-bootstrap-rails/3.2.0</a></p>
<h2 id="Installing_the_CSS_stylesheets">Installing the CSS stylesheets</h2><p>If you don’t need to customize the stylesheets using Less, the only gem you need is the twitter-bootstrap-rails gem:</p>
<pre><code><span class="title">gem</span> <span class="string">"twitter-bootstrap-rails"</span>
</code></pre><p>After running bundle install, run the generator:</p>
<pre><code>rails generate <span class="string">bootstrap:</span>install <span class="keyword">static</span>
</code></pre><p>Use <code>bundle show [gemname]</code> to see where a bundled gem is installed.</p>
<h2 id="Generating_layouts_and_views">Generating layouts and views</h2><p>You can run following generators to get started with Bootstrap quickly.</p>
<p>Layout (generates Bootstrap compatible layout) - (Haml and Slim supported)</p>
<p>Usage:</p>
<pre><code>rails <span class="keyword">g</span> <span class="keyword">bootstrap</span>:layout [LAYOUT_NAME]
</code></pre><p>Themed (generates Bootstrap compatible scaffold views.) - (Haml and Slim supported)</p>
<p>Usage:</p>
<pre><code>rails <span class="keyword">g</span> <span class="keyword">bootstrap</span>:themed [RESOURCE_NAME]
</code></pre><p>Example:</p>
<pre><code>rails <span class="keyword">g</span> scaffold <span class="keyword">Post</span> title:string description:text
rake <span class="keyword">db</span>:migrate
rails <span class="keyword">g</span> <span class="keyword">bootstrap</span>:themed Posts
</code></pre><p>Notice the plural usage of the resource to generate bootstrap:themed.</p>
<h2 id="解决：_couldn’t_find_file_‘twitter-bootstrap-static/bootstrap’_的问题">解决： couldn’t find file ‘twitter-bootstrap-static/bootstrap’ 的问题</h2><p>检查/Library/Ruby/Gems/2.0.0/gems/twitter-bootstrap-rails-3.2.0的用户权限</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Ruby-On-Rails/">Ruby On Rails</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/23/rails/2/" title="Ruby on Rails 开发起步走" itemprop="url">Ruby on Rails 开发起步走</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-05-23T08:02:00.000Z" itemprop="datePublished"> 发表于 2015-05-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h1 id="基本命令">基本命令</h1><p>创建一个rials的demo程序</p>
<pre><code>rails <span class="keyword">new</span> demo --<span class="keyword">skip</span>-test-<span class="keyword">unit</span>
</code></pre><p>启动web服务器</p>
<pre><code>rails <span class="keyword">server</span>  或 rails s
</code></pre><p>创建控制器</p>
<pre><code>rails <span class="keyword">generate</span> controller welcome
或
rails <span class="keyword">g</span> controller welcome
</code></pre><p>创建页面上的链接：</p>
<pre><code>&lt;<span class="variable">%=</span> link_to <span class="string">'Hello!'</span>, welcome_say_hello_path <span class="variable">%&gt;</span>
&lt;<span class="variable">%=</span> link_to <span class="string">'Hello!'</span>, welcome_say_hello_path <span class="variable">%&gt;</span>
</code></pre><p>创建数据库</p>
<pre><code><span class="tag">rake</span> <span class="rule"><span class="attribute">db</span>:<span class="value">create</span></span>
</code></pre><h2 id="创建一个简单的CRUD应用">创建一个简单的CRUD应用</h2><p>创建crud程序框架</p>
<pre><code>rails g scaffold <span class="keyword">person</span> name:string bio:text birthday:date
</code></pre><p>执行数据库迁移：</p>
<pre><code><span class="tag">rake</span> <span class="rule"><span class="attribute">db</span>:<span class="value">migrate </span></span>
</code></pre><p>访问：<a href="http://localhost:3000/people" target="_blank" rel="external">http://localhost:3000/people</a></p>
<p>一个最简单的CRUD应用程序开发完毕！</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Ruby-On-Rails/">Ruby On Rails</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/23/rails/1/" title="Ruby on Rails 基础知识整理" itemprop="url">Ruby on Rails 基础知识整理</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-05-23T07:02:00.000Z" itemprop="datePublished"> 发表于 2015-05-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="RubyGems簡介">RubyGems簡介</h2><p>RubyGems是Ruby的套件管理系統，讓你輕易安裝及管理Ruby函式庫。你可以在RubyGems上找到所有的Ruby開源套件。另外，讀者如果想找Ruby或Rails有哪些好用的套件，也可以瀏覽看看The Ruby Toolbox，這個站依照套件的熱門程度排序，非常方便。</p>
<h3 id="常用指令">常用指令</h3><pre><code>gem -v 告訴你 RubyGems 的版本
gem <span class="operator"><span class="keyword">update</span> <span class="comment">--system 升級RubyGems的版本</span>
gem <span class="keyword">install</span> gem_name 安裝某個套件
gem list 列出安裝的套件
gem <span class="keyword">update</span> gem_name 更新最新版本
gem <span class="keyword">update</span> 更新所有你安裝的Gems
gem <span class="keyword">install</span> -v x.x.x gemname 安裝特定版本
gem <span class="keyword">uninstall</span> gem_name 反安裝</span>
</code></pre><p>執行gem install gem_name的時候，它會在安裝完之後，自動產生此套件的RDoc和ri文件。不過有鑑於目前網路發達，往往直接 Google或是在套件官網就可以查詢到文件，所以其實不太需要在本地端機器產生文件，況且安裝的時間耗時又佔硬碟空間。要省略這個步驟，有兩種方式：<br>每次安裝時，加上以下參數：</p>
<pre><code>$ gem install gem_name --<span class="keyword">no</span>-<span class="keyword">ri</span> --<span class="keyword">no</span>-rdoc
</code></pre><p>或是新增一個<code>~/.gemrc</code>檔案內容如下，預設就不產生文件：</p>
<pre><code><span class="comment">gem:</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">no</span><span class="literal">-</span><span class="comment">ri</span> <span class="literal">-</span><span class="literal">-</span><span class="comment">no</span><span class="literal">-</span><span class="comment">rdoc</span>
</code></pre><h2 id="Bundle简介">Bundle简介</h2><p>Rails 3中引入Bundle来管理项目中所有gem依赖，该命令只能在一个含有Gemfile的目录下执行，如rails 3项目的根目录。</p>
<p><strong>关于Gemfile和Gemfile.lock</strong></p>
<p>所有Ruby项目的信赖包都在Gemfile中进行配置，不再像以往那样，通过require来查找。Rails 3中如果需要require某个gem包，必须通过修改Gemfile文件来管理。</p>
<p>Gemfile.lock则用来记录本机目前所有依赖的Ruby Gems及其版本。所以强烈建议将该文件放入版本控制器，从而保证大家基于同一环境下工作。</p>
<p>Bundle命令详解：</p>
<pre><code><span class="comment"># 显示所有的依赖包</span>
<span class="variable">$ </span>bundle show
<span class="comment"># 显示指定gem包的安装位置</span>
<span class="variable">$ </span>bundle show [gemname]
<span class="comment"># 检查系统中缺少那些项目以来的gem包</span>
<span class="comment"># 注：如果系统中存在所有项目以来的包，则会输出：The Gemfile's dependencies are satisfied</span>
<span class="variable">$ </span>bundle check
<span class="comment"># 安装项目依赖的所有gem包</span>
<span class="comment"># 注：此命令会尝试更新系统中已存在的gem包</span>
<span class="variable">$ </span>bundle install
<span class="comment"># 安装指定的gem包</span>
<span class="variable">$ </span>bundle install [gemname]
<span class="comment"># 更新系统中存在的项目依赖包，并同时更新项目Gemfile.lock文件</span>
<span class="variable">$ </span>bundle update
<span class="comment"># 更新系统中指定的gem包信息，并同时更新项目Gemfile.lock中指定的包信息</span>
<span class="variable">$ </span>bundle update [gemname]
<span class="comment"># 向项目中添加新的gem包引用</span>
<span class="variable">$ </span>gem [gemname], [ver]
<span class="comment"># 你还可以指定包依赖关系</span>
<span class="variable">$ </span>gem [gemname], <span class="symbol">:require</span> =&gt; [dependence_gemname]
<span class="comment"># 你甚至还可以指定gem包的git源</span>
<span class="variable">$ </span>gem [gemname], <span class="symbol">:git</span> =&gt; [git_source_url]
<span class="comment"># 锁定当前环境</span>
<span class="comment"># 可以使用bundle lock来锁定当前环境，这样便不能通过bundle update来更新依赖包的版本，保证了统一的环境</span>
<span class="variable">$ </span>bundle lock
<span class="comment"># 解除锁定</span>
<span class="variable">$ </span>bundle unlock
<span class="comment"># 打包当装环境</span>
<span class="comment"># bundle package会把当前所有信赖的包都放到 ./vendor/cache/ 目录下，发布时可用来保证包版本的一致性。</span>
<span class="variable">$ </span>bundle package
</code></pre><h2 id="Rake简介">Rake简介</h2><p>Rake 是一套類似 Make 的 Builder 工具，讓我們可以撰寫一些腳本任務，並且很方便設定各個任務的相依性。在 Rails 之中就內建了許多 rake 指令，除了你已經使用過的 rake db:migrate 之外，還有例如：</p>
<pre><code>rake <span class="keyword">db</span>:migrate
rake <span class="keyword">db</span>:<span class="keyword">drop</span>
rake tmp:<span class="keyword">clear</span>
rake <span class="keyword">notes</span>
</code></pre><p>你可以輸入 <code>rake -T</code> 看到所有的 rake 指令。而要在 Rails 環境中撰寫 Rake，請將附檔名為 .rake 的檔案放在 lib/tasks 目錄下即可，例如：</p>
<pre><code>/lib/tasks/dev.rake

namespace <span class="symbol">:dev</span> <span class="keyword">do</span>

  desc <span class="string">"Rebuild system"</span>
  task <span class="symbol">:build</span> =&gt; [<span class="string">"tmp:clear"</span>, <span class="string">"log:clear"</span>, <span class="string">"db:drop"</span>, <span class="string">"db:create"</span>, <span class="string">"db:migrate"</span>, <span class="symbol">:setup</span> ]

  desc <span class="string">"Setup system data"</span>
  task <span class="symbol">:setup</span> =&gt; <span class="symbol">:environment</span> <span class="keyword">do</span>
      puts <span class="string">"Create system user"</span>
      u = <span class="constant">User.</span>new( <span class="symbol">:login</span> =&gt; <span class="string">"root"</span>, <span class="symbol">:password</span> =&gt; <span class="string">"password"</span>, <span class="symbol">:email</span> =&gt; <span class="string">"root@example.com"</span>, <span class="symbol">:name</span> =&gt; <span class="string">"管理員"</span>)
      u.is_admin = <span class="keyword">true</span>
      u.save!
  <span class="keyword">end</span>
<span class="keyword">end</span>
</code></pre><p>透過執行 rake dev:build，就會自動清除 log 檔案，砍掉資料庫，執行 migrate，然後執行 rake dev:setup 建立一個使用者。</p>
<p>其他常見的使用情境包括：</p>
<ol>
<li>修正上線的資料，這樣部署到Production後，可以用來執行 </li>
<li>建立開發用的假資料 </li>
<li>搭配排成工具使用，例如每天凌晨三點寄出通知信、每週一產生報表等等</li>
</ol>
<p>更多介紹可以參考 <a href="http://codequietly.com/2010/6/rake-tasks-101" target="_blank" rel="external">http://codequietly.com/2010/6/rake-tasks-101</a> 和 <a href="http://jasonseifer.com/2010/04/06/rake-tutorial" target="_blank" rel="external">http://jasonseifer.com/2010/04/06/rake-tutorial</a> 兩篇文章。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Ruby-On-Rails/">Ruby On Rails</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/23/others/1/" title="用mac笔记本演示iPhone应用" itemprop="url">用mac笔记本演示iPhone应用</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-05-23T07:02:00.000Z" itemprop="datePublished"> 发表于 2015-05-23</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="找到QuickTime">找到QuickTime</h2><p><img src="/uploads/QQ20150526-1.jpg" alt="找到QuickTime"></p>
<h2 id="新建影片录制">新建影片录制</h2><p><img src="/uploads/QQ20150526-2.jpg" alt="找到QuickTime"></p>
<h2 id="选择从iPhone录制">选择从iPhone录制</h2><p><img src="/uploads/QQ20150526-3.jpg" alt="找到QuickTime"></p>
<h2 id="开始演示吧">开始演示吧</h2><p><img src="/uploads/QQ20150526-4.jpg" alt="找到QuickTime"></p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/其他/">其他</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/05/12/issue/2/" title="Android WebView中加载本地资源的解决办法" itemprop="url">Android WebView中加载本地资源的解决办法</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-05-11T16:00:00.000Z" itemprop="datePublished"> 发表于 2015-05-12</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>Android上的WebView真是个好东西呀，对我这种不会开发安卓程序的代码搬运工来说绝对是一剂良药！我完全可以用H5写伪安卓程序嘛~</p>
<p>写网页的人都知道，有些CSS/JS/Images是不会改变的，比如Bootstrap.css / JQuery.js 等等。那么问题来了，我们不想每次都要加载这些不会改变的库文件怎么办？</p>
<p>我当然会告诉你怎么办！！！！那就是我研究的【注入大法】：</p>
<p>第一步：将资源拷贝到assets目录</p>
<p>第二步：给需要注入的资源文件在url上做一个标志，当然，你也可以不做，只要你在安卓端可以判断出来即可。</p>
<pre><code>&lt;link <span class="variable">rel=</span><span class="string">"stylesheet"</span> <span class="variable">href=</span><span class="string">"[inject]public/css/bootstrap.min.css"</span> <span class="variable">type=</span><span class="string">"text/css"</span> <span class="variable">media=</span><span class="string">"screen"</span> <span class="variable">title=</span><span class="string">"no title"</span> <span class="variable">charset=</span><span class="string">"utf-8"</span>&gt;
&lt;link <span class="variable">rel=</span><span class="string">"stylesheet"</span> <span class="variable">href=</span><span class="string">"[inject]public/css/bootstrap-theme.min.css"</span> <span class="variable">type=</span><span class="string">"text/css"</span> <span class="variable">media=</span><span class="string">"screen"</span> <span class="variable">title=</span><span class="string">"no title"</span> <span class="variable">charset=</span><span class="string">"utf-8"</span>&gt;
&lt;script <span class="variable">type=</span><span class="string">"text/javascript"</span> <span class="variable">src=</span><span class="string">"[inject]public/js/zipto/1.1.6/zepto.min.js"</span>&gt;&lt;/script&gt;
&lt;script <span class="variable">type=</span><span class="string">"text/javascript"</span> <span class="variable">src=</span><span class="string">"[inject]public/js/modules/md5.min.js"</span>&gt;&lt;/script&gt;
</code></pre><p>第三步：拦截将要注入的文件，读取本地文件即可。</p>
<pre><code>webview.setWebViewClient(<span class="keyword">new</span> WebViewClient() {
    <span class="annotation">@Override</span>
    <span class="keyword">public</span> <span class="function">WebResourceResponse <span class="title">shouldInterceptRequest</span><span class="params">(WebView view, String url)</span> </span>{
        <span class="comment">//System.out.println("WebResourceResponse::"+url);</span>
        <span class="keyword">if</span>(url.contains(<span class="string">"[inject]"</span>)){
            String localPath = url.replaceFirst(<span class="string">"^http.*inject\\]"</span>,<span class="string">""</span>);
            System.out.println(<span class="string">"LocalPath::"</span>+localPath);
            <span class="keyword">try</span> {
                InputStream is = getApplicationContext().getAssets().open(localPath);
                <span class="keyword">return</span> <span class="keyword">new</span> WebResourceResponse(<span class="string">"text/javascript"</span>, <span class="string">"UTF-8"</span>, is);
            } <span class="keyword">catch</span> (Exception e) {
                e.printStackTrace();
                <span class="function"><span class="keyword">return</span> <span class="keyword">super</span>.<span class="title">shouldInterceptRequest</span><span class="params">(view, url)</span></span>;
            }
        } <span class="keyword">else</span> {
            <span class="function"><span class="keyword">return</span> <span class="keyword">super</span>.<span class="title">shouldInterceptRequest</span><span class="params">(view, url)</span></span>;
        }
    }
});
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/Android/">Android</a>
</div>


</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/04/21/reverse/21/" title="逆向基础第二十一篇：对象作为函数参数或返回值" itemprop="url">逆向基础第二十一篇：对象作为函数参数或返回值</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-04-20T16:00:00.000Z" itemprop="datePublished"> 发表于 2015-04-21</time>
    
  </p>
</header>
    <div class="article-content">
        
        <h2 id="1、对象作为函数参数">1、对象作为函数参数</h2><p>下面是一段<code>对象作为参数</code>的代码片段：</p>
<pre><code>class CTest{
<span class="label">public:</span>
    <span class="keyword">int</span> m_nOne<span class="comment">;</span>
    <span class="keyword">int</span> m_nTwo<span class="comment">;</span>
}<span class="comment">;</span>

void ShowFunTest(CTest <span class="keyword">Test</span>)
{
    printf(<span class="string">"%d,%d \r\n"</span>,<span class="keyword">Test</span>.m_nOne,<span class="keyword">Test</span>.m_nTwo)<span class="comment">;</span>
}

<span class="keyword">int</span> _tmain(<span class="keyword">int</span> argc, _TCHAR* argv[])
{
    CTest <span class="keyword">Test</span><span class="comment">;</span>
    <span class="keyword">Test</span>.m_nOne = <span class="number">1</span><span class="comment">;</span>
    <span class="keyword">Test</span>.m_nTwo = <span class="number">2</span><span class="comment">;</span>
    ShowFunTest(<span class="keyword">Test</span>)<span class="comment">;</span>
    getchar()<span class="comment">;</span>
}
</code></pre>
        
        
        <p class="article-more-link">
          
            <a href="/2015/04/21/reverse/21/#more">Read More</a>
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/逆向基础/">逆向基础</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/反汇编/">反汇编</a><a href="/tags/逆向/">逆向</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/04/20/reverse/20/" title="逆向基础第二十篇：类和对象 之 “this指针”" itemprop="url">逆向基础第二十篇：类和对象 之 “this指针”</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-04-19T16:00:00.000Z" itemprop="datePublished"> 发表于 2015-04-20</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>写C++应该会经常用到this指针，但是我们在类中并没有找到this的定义，许多程序员只知道使用this指针，但是不知道this从何而来。今天，我们来解开this指针的神秘的面纱！</p>
<p>首先，this是一个指针，在32位环境下占4字节大小，保存的数据应为内存地址。</p>
<h2 id="1、结构体指针">1、结构体指针</h2><p>我们先分析一段结构体：</p>
<pre><code><span class="keyword">struct</span> A 
{
    <span class="keyword">int</span>        m_int;
    <span class="keyword">short</span>    m_short;
};
<span class="keyword">int</span> <span class="keyword">_t</span>main(<span class="keyword">int</span> argc, _TCHAR* argv[])
{
    <span class="keyword">struct</span> A a    = {<span class="number">1</span>,<span class="number">2</span>};
    <span class="keyword">struct</span> A *p = &amp;a;
    <span class="built_in">printf</span>(<span class="string">"%p"</span>,&amp;p-&gt;m_int);
    <span class="built_in">printf</span>(<span class="string">"%p"</span>,&amp;p-&gt;m_short);
    getchar();
}
</code></pre><p>下面是对结构体的反汇编的分析：</p>
<p><img src="/uploads/2014/07/823362416.png" alt="1.png"></p>
<p>通过上图可以看到，结构体指针的地址就是此<code>结构的首地址</code>。</p>
<p>那么类对象呢？我们在下一小节继续分析。</p>
<h2 id="2、this指针">2、this指针</h2><p>我们编写一个测试类：</p>
<pre><code><span class="keyword">class</span> CTest{
<span class="keyword">public</span>:
    <span class="keyword">int</span> m_int;
<span class="keyword">public</span>:
    <span class="function"><span class="keyword">void</span> <span class="title">SetNumber</span><span class="params">(<span class="keyword">int</span> n)</span>
    </span>{
        m_int = n;
    }
};

<span class="keyword">int</span> <span class="keyword">_t</span>main(<span class="keyword">int</span> argc, _TCHAR* argv[])
{
    CTest Test;
    Test.SetNumber(<span class="number">10</span>);
    <span class="built_in">printf</span>(<span class="string">"%p \r\n"</span>, &amp;Test);
    <span class="built_in">printf</span>(<span class="string">"%p \r\n"</span>, &amp;Test.m_int);
    getchar();
}
</code></pre><p>输出结果与我们预期的相同，对象地址与第一个元素的地址相同（0033FAE8），如下图：</p>
<p><img src="/uploads/2014/07/1934018967.png" alt="2.png"></p>
<p>下面我们分析反汇编代码：</p>
<p><img src="/uploads/2014/07/2638181270.png" alt="3.png"></p>
<p>通过上图的分析，可以得知：</p>
<ul>
<li>this指针的地址 = 对象的首地址 = 第一个成员变量的地址。</li>
<li>调用成员函数时，一般采用 <code>ecx保存this指针</code>，在成员函数内部会可以使用这个值。</li>
</ul>
<h2 id="3、stdcall调用方式的成员函数">3、stdcall调用方式的成员函数</h2><p>C++中调用成员函数默认使用的是thiscall，thiscall中默认使用ecx传递this指针变量。但是，在stdcall中，this的传递方式是不同的。</p>
<p>测试代码：</p>
<pre><code><span class="keyword">class</span> CTest{
<span class="keyword">public</span>:
    <span class="keyword">int</span> m_int;
<span class="keyword">public</span>:
    <span class="comment">//调用方式为stdcall</span>
    <span class="keyword">void</span> _<span class="function">stdcall <span class="title">SetNumber</span><span class="params">(<span class="keyword">int</span> n)</span>
    </span>{
        m_int = n;
    }
};
<span class="keyword">int</span> <span class="keyword">_t</span>main(<span class="keyword">int</span> argc, _TCHAR* argv[])
{
    CTest Test;
    Test.SetNumber(<span class="number">10</span>);
    <span class="built_in">printf</span>(<span class="string">"%p \r\n"</span>, &amp;Test);
    <span class="built_in">printf</span>(<span class="string">"%p \r\n"</span>, &amp;Test.m_int);
    getchar();
}
</code></pre><p>反汇编代码：</p>
<p><img src="/uploads/2014/07/446336290.png" alt="4.png"></p>
<p>当使用stdcall时，编译器会隐含的传递一个this指针作为第一个参数，相当于：</p>
<pre><code><span class="function"><span class="keyword">void</span> <span class="title">Function</span><span class="params">(<span class="keyword">this</span>, parameter...)</span>
</span>{
    <span class="comment">//..do something..</span>
}
</code></pre><p>实际上，大多数面向对象的编程语言，都是这么传递this指针的。</p>
<p>如果有过python编程经验的人，应该注意到在调用成员函数时候，是显示的传递this指针：</p>
<pre><code><span class="class"><span class="keyword">class</span> <span class="title">people</span>:</span>
    <span class="comment">#定义了一个属性</span>
    name = <span class="string">'jack'</span>       
    <span class="comment">#定义了一个方法，这里显示的传递self（this）指针</span>
    <span class="function"><span class="keyword">def</span> <span class="title">printName</span><span class="params">(self)</span>:</span> 
        <span class="keyword">print</span> self.name
</code></pre><p>这里不讲python，仅供参考，对比学习。</p>

        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/逆向基础/">逆向基础</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/反汇编/">反汇编</a><a href="/tags/逆向/">逆向</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>






   
    
    <article class="post-expand post" itemprop="articleBody"> 
        <header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2015/04/19/reverse/19/" title="逆向基础第十九篇：内存对齐" itemprop="url">逆向基础第十九篇：内存对齐</a>
  </h1>
  <p class="article-author">By
       
		<a href="/about" title="John·Huang" target="_blank" itemprop="author">John·Huang</a>
		
  <p class="article-time">
    <time datetime="2015-04-18T16:00:00.000Z" itemprop="datePublished"> 发表于 2015-04-19</time>
    
  </p>
</header>
    <div class="article-content">
        
        <p>结构体和类在为数据成员分配内存时，结构体中当前数据类型长度为M，制定的对齐值为N，那么实际对齐值 Q = min(M,N) 其成员的地址安排在Q的倍数上。</p>
<p>测试代码：</p>
<pre><code><span class="keyword">struct</span> tagTest{
    <span class="keyword">short</span> nShort;
    <span class="keyword">int</span> nInt;
} test;
<span class="keyword">int</span> <span class="keyword">_t</span>main(<span class="keyword">int</span> argc, _TCHAR* argv[])
{
    test.nShort = <span class="number">1</span>;
    test.nInt    = <span class="number">2</span>;
    <span class="keyword">int</span> nSize = <span class="keyword">sizeof</span>(test);
    <span class="built_in">printf</span>(<span class="string">"%d"</span>,nSize);
    getchar();
}
</code></pre><p>部分反汇编结果：</p>
<pre><code>    <span class="keyword">test</span>.nShort = <span class="number">1</span><span class="comment">;</span>
00C32D1E  <span class="keyword">mov</span>         <span class="number">eax</span>,<span class="number">1</span>  
00C32D23  <span class="keyword">mov</span>         <span class="preprocessor">word</span> <span class="preprocessor">ptr</span> [<span class="keyword">test</span> (<span class="number">0C37138h</span>)],<span class="number">ax</span>      <span class="comment">;这里是short类型的赋值</span>
    <span class="keyword">test</span>.nInt    = <span class="number">2</span><span class="comment">;</span>
00C32D29  <span class="keyword">mov</span>         <span class="preprocessor">dword</span> <span class="preprocessor">ptr</span> [<span class="keyword">test</span>+<span class="number">4</span> (<span class="number">0C3713Ch</span>)],<span class="number">2</span>    <span class="comment">;这里test+4进行了对齐</span>
    <span class="keyword">int</span> nSize = sizeof(<span class="keyword">test</span>)<span class="comment">;</span>
00C32D33  <span class="keyword">mov</span>         <span class="preprocessor">dword</span> <span class="preprocessor">ptr</span> [nSize],<span class="number">8</span>                <span class="comment">;sizeof 的结果为8</span>
</code></pre><p>对nShort赋值之后，应在地址00C3713A（0C37138h+2）处分配nInt的空间。 但是int类型占4个字节，与指定的对齐（VC6中默认的对齐是8字节）比较后，但是00C3713A不是4的倍数，需要插入两个字节补充，因此nInt被定义在了0C3713Ch处。</p>
<p>内存对齐实战：</p>
<p>第一：</p>
<pre><code><span class="keyword">struct</span>{
    <span class="keyword">double</span> nDouble;     <span class="comment">//占8字节</span>
    <span class="keyword">int</span> nInt;           <span class="comment">//占4字节</span>
    <span class="keyword">short</span> nShort;       <span class="comment">//占2字节</span>
}
按默认的对齐值要求，结构体的整体大小要能被<span class="number">8</span>整除（<span class="number">8</span>=结构的第一个元素长度），所以要 <span class="number">8</span>+<span class="number">4</span>+<span class="number">4</span>+<span class="number">2</span>+<span class="number">2</span>=<span class="number">16</span>
</code></pre><p>第二：</p>
<pre><code><span class="keyword">struct</span>{
    <span class="keyword">char</span> nChar;        <span class="comment">//占4字节，与nInt对齐</span>
    <span class="keyword">int</span> nInt;          <span class="comment">//占4字节</span>
    <span class="keyword">short</span> nShort;       <span class="comment">//占2字节</span>
}
</code></pre><p>第三：</p>
<pre><code><span class="preprocessor">#<span class="keyword">pragma</span> pack(1)        <span class="comment">//声明1字节对齐</span></span>
<span class="keyword">struct</span>{
    <span class="keyword">char</span> nChar;        <span class="comment">//占1字节</span>
    <span class="keyword">int</span> nInt;          <span class="comment">//占4字节</span>
    <span class="keyword">short</span> nShort;       <span class="comment">//占2字节</span>
}
</code></pre><p>第四：</p>
<pre><code><span class="keyword">struct</span>{
    <span class="keyword">char</span> nChar;        <span class="comment">//占1字节</span>
    <span class="keyword">char</span> cArray[<span class="number">4</span>];    <span class="comment">//占5字节，对齐nShort</span>
    <span class="keyword">short</span> nShort;       <span class="comment">//占2字节</span>
}
</code></pre>
        
        
        <p class="article-more-link">
          
       </p>
    </div>
    <footer class="article-footer clearfix">
<div class="article-catetags">

<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/逆向基础/">逆向基础</a>
</div>


  <div class="article-tags">
  
  <span></span> <a href="/tags/反汇编/">反汇编</a><a href="/tags/逆向/">逆向</a>
  </div>

</div>




<div class="comments-count">
	
</div>

</footer>


    </article>







  <nav id="page-nav" class="clearfix">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">Next<span></span></a>
  </nav>

</div>
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
		  
			<li><a href="/categories/Android/" title="Android">Android<sup>2</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/" title="Linux">Linux<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/MongoDB/" title="MongoDB">MongoDB<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/运维/PHP/" title="PHP">PHP<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/运维/Python/" title="Python">Python<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Ruby-On-Rails/" title="Ruby On Rails">Ruby On Rails<sup>5</sup></a></li>
		  
		
		  
			<li><a href="/categories/其他/" title="其他">其他<sup>1</sup></a></li>
		  
		
		  
			<li><a href="/categories/Linux/运维/" title="运维">运维<sup>4</sup></a></li>
		  
		
		  
			<li><a href="/categories/逆向基础/" title="逆向基础">逆向基础<sup>22</sup></a></li>
		  
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			
				<li><a href="/tags/逆向/" title="逆向">逆向<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/反汇编/" title="反汇编">反汇编<sup>22</sup></a></li>
			
		
			
				<li><a href="/tags/linux/" title="linux">linux<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/shell/" title="shell">shell<sup>5</sup></a></li>
			
		
			
				<li><a href="/tags/运维/" title="运维">运维<sup>4</sup></a></li>
			
		
			
				<li><a href="/tags/nginx/" title="nginx">nginx<sup>2</sup></a></li>
			
		
			
				<li><a href="/tags/mongodb/" title="mongodb">mongodb<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/pptpd/" title="pptpd">pptpd<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/python/" title="python">python<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/翻墙/" title="翻墙">翻墙<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/php/" title="php">php<sup>1</sup></a></li>
			
		
			
				<li><a href="/tags/vpn/" title="vpn">vpn<sup>1</sup></a></li>
			
		
		</ul>
</div>


  <div class="linkslist">
  <p class="asidetitle">友情链接</p>
    <ul>
        
          <li>
            
            	<a href="https://coderq.com" target="_blank" title="一个面向程序员交流分享的新一代社区">码农圈</a>
            
          </li>
        
    </ul>
</div>

  


  <div class="rsspart">
	<a href="/atom.xml" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer" >
	
	<div class="line">
		<span></span>
		<div class="author"></div>
	</div>
	
	
	<section class="info">
		<p> Hello ,I&#39;m John. <br/>
			This is my blog, believe it or not.</p>
	</section>
	 
	<div class="social-font" class="clearfix">
		
		
		
		
		
		
		
		
		
		
	</div>
			
		

		<p class="copyright">
		Powered by <a href="http://hexo.io" target="_blank" title="hexo">hexo</a> and Theme by <a href="https://github.com/wuchong/jacman" target="_blank" title="Jacman">Jacman</a> © 2015 
		
		<a href="/about" target="_blank" title="John·Huang">John·Huang</a>
		
		
		</p>
</div>
</footer>
    <script src="/js/jquery-2.0.3.min.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>

<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
  
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else{
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
        
    }
  });
});
</script>










<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.article-content').each(function(i){
    $(this).find('img').each(function(){
      if ($(this).parent().hasClass('fancybox')) return;
      var alt = this.alt;
      if (alt) $(this).after('<span class="caption">' + alt + '</span>');
      $(this).wrap('<a href="' + this.src + '" title="' + alt + '" class="fancybox"></a>');
    });
    $(this).find('.fancybox').each(function(){
      $(this).attr('rel', 'article' + i);
    });
  });
  if($.fancybox){
    $('.fancybox').fancybox();
  }
}); 
</script>



<!-- Analytics Begin -->





<!-- Analytics End -->

<!-- Totop Begin -->

	<div id="totop">
	<a title="返回顶部"><img src="/img/scrollup.png"/></a>
	</div>
	<script src="/js/totop.js"></script>

<!-- Totop End -->

<!-- MathJax Begin -->
<!-- mathjax config similar to math.stackexchange -->


<!-- MathJax End -->

<!-- Tiny_search Begin -->

<!-- Tiny_search End -->

  </body>
 </html>
